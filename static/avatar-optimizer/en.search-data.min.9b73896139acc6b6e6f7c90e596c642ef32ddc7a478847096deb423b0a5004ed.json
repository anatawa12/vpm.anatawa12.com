[{"id":0,"href":"/avatar-optimizer/en/docs/tutorial/","title":"Tutorial","section":"Docs","content":" Tutorial # Tutorial of basic features of Avatar Optimizer.\n"},{"id":1,"href":"/avatar-optimizer/en/docs/changelog/","title":"Changelog","section":"Docs","content":" Changelog # All notable changes to this project are documented in this page.\nThe format is based on Keep a Changelog.\n1.4.3 - 2023-09-05 # Fixed # Mesh broken with BlendShape Frame with weight 0 #408 1.4.2 - 2023-09-04 # Fixed # Components/GameObjects can falsely detected as always disabled / inactive. #403 1.4.1 - 2023-09-02 # Fixed # RootBone become None with Merge SkinedMesh #399 1.4.0 - 2023-09-02 # Added # Support for Multi Frame BlendShapes #333 Add link to help page #382 Advanced Animator Parser #343 This is new AnimatorController parser to collect animated properties This parser understands AnimatorLayers, so with this parser, AAO can freeze BlendShapes which are always finally animated to a constant value. This also understands Additive Layer and BlendTree, so extremely rare problem in previous Animator Parser with Additive Layer or BlendTree will be fixed with this parser. Multi Pass Rendering of Last SubMesh support #384 Remove Mesh By BlendShape Editor now can set blendshape weights to 0/100 Changed # Auto FreezeBlendShape now freezes meaningless BlendShape #334 If you removed some vertices with RemoveMeshInBox or RemoveMeshWithBlendShape, some BlendShape may transform no vertices Auto FreeseBlendShae now freezez such a BlendShapes Auto FreezeBlendShape now freezes vertices even if already FreezeBlendShape is configured. #334 Meshes generated by AAO now have name #371 This will improve compatibility with UniVRM. VPM Package now doesn\u0026rsquo;t include Test code #372 #373 Better error infomation for MeshInfo2 error #381 Declare compatible with VRCSDK 3.3.x #395 Understandable Error if there are Missing Script Component #398 Why VRCSDK doesn\u0026rsquo;t have such a error system? Fixed # MergeBone not working well with non-restpose bones #379 Unclear Error with Mesh with Read/Write off #386 Clear Endpoint Position may not work well with ignore transforms #390 Clear Endpoint Position doesn\u0026rsquo;t support Undo #390 1.3.4 - 2023-08-22 # Changed # Internal implementation of Trace and Optimize #361 Documentation Improvements #366 #365 1.3.3 - 2023-08-21 # Added # BlendShape Weight mismatch warning is now build-time warning instad of validate time warning #359 Thanks to FreeseBlendShape by TraceAndOptimize, most pre-build this warning is false positive. So this warning is moved to build-time only. Fixed # ClearEndpointPosition is not applied for non-first PhysBones on the GameObject #357 Incompatbile with Reload Scene disabaled #358 1.3.2 - 2023-08-20 # Fixed # Children of IsActive animated object is not considered #342 Multi Passs Rendering not supported error doesn\u0026rsquo;t have location info #347 1.3.1 - 2023-08-19 # Fixed # Unity Editor may freezes when there are circular dependency #329 Network ID is not assigned for newly created PBs #331 Internally assigned animator controller is not skipped for default choosen playable layer in Trace and Optimize #332 VRCSDK assigned default animators are not considered in Trace and Optimize #332 This bug doesn\u0026rsquo;t create bad behavior for now but will does in the feature. Humanoid Animation are not considered in Trace and Optimize #332 This bug doesn\u0026rsquo;t create bad behavior for now but will does in the feature. Material Slot with null material is created if there are more SubMesh than Material Slots #337 AAO silently ignored multi pass rendering #337 For now, multi pass rendering of last SubMesh is not (yet) supported so now cause error but will be supported. There is no warning about BlendShape weight difference #336 1.3.0 - 2023-08-12 # Added # Remove always disabled objects #278 The new Remove Mesh By Blend Shape component removes mesh data based on blend shapes. #275 Option to process Make Children before modular avatar #296 Changed # Use UnityEditor api to compress texture #276 This also adds some supported texture formats. Every component have AAO prefix in their name now #290 The official shorthand for this tools is AAO! Automatic Configuration component has been renamed to Trace And Optimize #295 Fixed # UnusedBonesByReferenceTool error with SMR without mesh #280 MergeSkinnedMesh doesn\u0026rsquo;t work well with eyelids #284 Animating Behaviour.m_Enabled not working #287 Error Report Window may not refreshed after build error #299 Apply On Play may not working well #305 Some components unexpectedly can be added multiple times #306 1.2.0 - 2023-07-26 # Added # Automatic bounds computation in MergeSkinnedMesh #264 Automatic Configuration System #265 Currently FreezeBlendShape can be automatically configured. Support for material swapping animation in MergeSkinnedMesh #274 Changed # Support newly activated avatars in play mode for apply on play #263 Fixed # Breaks mesh without tangent #271 1.1.1 - 2023-07-14 # Changed # Avatar GameObject marked as EditorOnly no longer be removed #261 Previously, if avatar GameObject is marked as EditorOnly, whole avatar is removed and this confuses users. Fixed # Name of failed ApplyOnPlayCallback is not included in error message #260 Entering play mode can be extremely slow if you have many avatar on the scene #262 1.1.0 - 2023-07-13 # Added # Now we can choose texture format for Merge Toon Lit Material #251 This includes one tiny BREAKING CHANGES. Previously MergeToonLit uses ARGB32 as texture format but for now, it use ASTC 6x6 or DXT5 by default based on platform. Changed # Move Components into Avatar Optimizer folder #247 Previously they are Optimizer folder Completely rewrite apply on play system #249 This will remove EditorOnly on play. This enable UnusedBonesByReferencesTool component on play. This replaces way to apply [modular-avatar by bdunderscore] on play. modular avatar will be applied before AvatarOptimizer main logic and after removing EditorOnly. This will remove enable/disable checkbox on components, which had no meaning. The framework for this changes will be published as separated framework when ready. Use binary form of asset file in avatar optimizer output #252 Fixed # Manual bake not working with avatars with invalid file name chars #253 Merge Toon Lit duplicates vertex too many #256 This could causes huge increase in avatar size. this is now fixed. 1.0.0 - 2023-06-27 # If you\u0026rsquo;re using v0.3.x or older, Please upgrade to v0.4.x before upgrading v1.x.x!\nもし v0.3.x 以前を使用しているのであれば, v1.x.xに更新する前に v0.4.x に更新してください!\nRemoved # Save format migration system #199 We no longer see save data in format of v0.3.x or older. Please migrate to v0.4.x format before installing v1.0.0. 0.4.12 - 2023-06-22 # Added # MergePhysBone without ClearEndpointPosition #239 Instead of ClearEndpointPosition, you can use original value, or override Endpoint Position. 0.4.11 - 2023-06-19 # Changed # Show error with user friendly message if blendshape for eyelids are removed / frozen. #253 Fixed # eyelids BlendShape settings are mapped even if it\u0026rsquo;s disabled #235 This fixes error if internally eyelids BlendShape are frozen. 0.4.10 - 2023-06-17 # Fixed # PrefabSafesSet\u0026rsquo;s prefab modifications on latest layer are invisible on inspector #229 0.4.9 - 2023-06-16 # Fixed # NullReferenceException if window is in background #226 0.4.8 - 2023-06-16 # 0.4.7 - 2023-06-13 # Fixed # Dropping PhysBone to MergePhysBone is not working #221 First box will be size of zero #223 0.4.6 - 2023-06-10 # Changed # Improve ErrorReport window on build error #216 0.4.5 - 2023-06-06 # Fixed # Error in MergeSkinnedMeshProcessor with RecordMoveProperty #214 0.4.4 - 2023-06-04 # Changed # Make Remove Empty Renderer Object enabled by default #208 0.4.3 - 2023-06-02 # Added # Adding multiple values to PrefabSafeSet #200 See this video for more details. Overriden PrefabSafeSet properties are now highlighted as blue and bold #200 Fixed # Error when we removed some modification in PrefabSafeSet #201 There are several situations for this problem: When we removed value in original component When we removed new value in overrides When we reverted added twice in overrides When we reverted deletion in overrides When we reverted fake deletion in overrides Error when we reverted whole PrefabSafeSet with modifications #201 0.4.2 - 2023-05-30 # Fixed # MergeSkinnedMesh depends on other EditSkinnedMesh components does not working #195 Error with removed modified property in PrefabSafeSet Editor #196 Apply on Play may not work #198 0.4.1 - 2023-05-23 # Changed # Reimplemented Animation Mapping System Completely #168 This should fixes problem with objects/components at same place. Improve Animation Mapping System #172 This should reduce build time Disable animating m_Enabled of source SkinnedMeshRenderer #190 Animating m_Enabled of source SkinnedMeshRenderer now doesn\u0026rsquo;t affects merged SkinnedMeshRenderer If you actually want to enable/disable merged SkinnedMeshRenderer, animate m_Enabled of merged SkinnedMeshRenderer instead. Fixed # Error is not cleared on build #170 Merge PhysBone is not working #177 Previously, values are not copied correctly The help box for description of components without description were shown #178 Name of Is Animated and Parameter field are not correct #183 We cannot set override setting of Colliders to Copy #183 Error with MergeToonLit #185 Poor word choice in Japanese Translation #174 Localization is not applied for some fields #186 0.4.0 - 2023-05-20 # Added # Japanese Translation: 日本語化 #152 Changed # Save format for MergePhysBone #166 Previously used backed PhysBone component for override values are removed. There are no changes in behaviour. Just migrate your assets. Removed # Delete GameObject feature #153 Use EditorOnly tag instead Fixed # Error with Animator at non-root GameObject #164 Error with copied MergePhysBone component #165 0.3.5 - 2023-05-15 # Changed # Internal Errors not relates to any Object are now reported #160 Fixed # Error if there are multiple GameObjects with same path #159 0.3.4 - 2023-05-15 # Fixed # Reference to Component will become None #156 BlendShapes for Eyelids can be broken with FreezeBlendShape #154 0.3.3 - 2023-05-14 # 0.3.2 - 2023-05-14 # Added # Error Reporting System #124 This adds window shows errors on build This is based on Modular Avatar\u0026rsquo;s Error Reporting Window. thanks @bdunderscore Website for AvatarOptimizer #139 Available at https://vpm.anatawa12.com/avatar-optimizer/ Manual Bake Avatar #147 Left click the avatar and click [AvatarOptimizer] Manual Bake Avatar Changed # Improved \u0026amp; reimplemented Animation (re)generation system #137 This is completely internal changes. Should not break your project In previous implementation, animations for GameObjects moved by MergeBone, MergePhysBone or else doesn\u0026rsquo;t work well This reimplementation should fix this problem Fixed # Migration fails with scenes/prefabs in read-only packages #136 Now, migration process doesn\u0026rsquo;t see any scenes/prefabs in read-only packages. 0.3.1 - 2023-05-05 # Fixed # Can\u0026rsquo;t remove SkinnedMeshRenderer error #133 This error should do nothing bad but it confuses everyone Bad behaviour with VRCFury on build #134 0.3.0 - 2023-05-04 # Added # Make Children of Me #100 As a alternative of feature removal in same pull request UnusedBonesByReferencesTool #112 This is port of UnusedBonesByReferencesTool by Narazaka Support for VRCSDK 3.2.0! #117 This includes support for PhysBone Versions and PhysBone 1.1 Changed # Use IEditorOnly instead of mokeypatching VRCSDK #102 Move the toggle for Override and the setting of the value after Override closer together. #105 With this changes, the merged PhysBone is now hidden. The merged PhysBone will be shown in Play mode. Now we can Copy (instead of Override) Pull, Gravity, Immobile properties even if Integration Type is overriden. #105 During migration, if Integration Type (previously called Force) is configured to be Override, Pull, Gravity, Immobile will be configured to be Override. This is BREAKING changes. Now we can Copy / Override Immobile Type and Immobile (strength) separately. #105 Previously, if you override Immobile Type, you also required to override Immobile but no longer required. This is BREAKING changes in the semantics of immobile property. Upgrade CL4EE to 1.0.0 #121 Removed # BREAKING Removed Prefab Safe List #95 BREAKING Removed RootTransform feature from MergePhysBone #100 See this issue comment for more datails. Removed support for VRCSDK 3.1.x. #117 Dropping VRCSDK support is a BREAKING changes. However, we may drop old VRCSDK support in the minor releases of AvatarOptimizer in the feature. In the other hand, we promise we\u0026rsquo;ll never drop old VRCSDK support in the patch releases. Notice: in the 0.x.y release, y is a minor releases in this project. Fixed # ShouldIgnoreComponentPatch cases compilation error #108 Merge PhysBone is working even if parents are differ #129 0.2.8 - 2023-04-19 # Fixed # NullReferenceException with prefabs in editor for PrefabSafeSet #92 0.2.7 - 2023-04-01 # Added # Support for VRCSDK 3.1.12 and 3.1.13 0.2.6 - 2023-03-31 # Added # Internationalization support #77 This adds way to translate editor elements. However, no other language translation than English is not added yet. Please feel free to make PullRequest if you can maintain the translation. Fixed # Remove Empty Renderer Object is not shown on the inspector #76 normal vector and tangent vector might not be unit length #81 This can be problem with FreezeBlendShape. Assertion does not work well #85 This can make invalid mesh Mesh is broken if more than 65536 vertices are exists #87 Because we didn\u0026rsquo;t check for vertices count and index format, vertex index can be overflow before. Generated assets are invisible for a while #88 0.2.5 - 2023-03-24 # Added # Show SaveVersion internal property on editor. #71 This makes it easier to make it easier to see prefab overrides Changed # reduce unnecessary modification in PrefabSafeSet/List #64 Previously PrefabSafeSet/List will always generates array size change modification. Now, array size change will be generated when added/removed elements from the collection. use ExecuteAlways instead of ExecuteInEditMode #72 Fixed # save version is not saved again #69 None is added/removed on the prefab modifications #73 0.2.4 - 2023-03-22 # Changed # make Accessing v1 error #61 This reduces future mistakes like #59 Fixed # RemoveMeshInBox refers old v1 configuration #60 0.2.3 - 2023-03-20 # Fixed # instantiating material occurs #58 0.2.2 - 2023-03-20 # Added # Make Children #53 Changed # Do not use cache on applying components now #56 Fixed # NullReferenceException if some component is removed #54 save version is not saved. this may break future migration #55 0.2.1 - 2023-03-20 # Fixed # Migration failed if some renderer is None #49 0.2.0 - 2023-03-19 # Added # Support for Prerelease in publish system #19 Changelogs (including ones for traditional releases) #19 Auto Test #23 Prefab support #11 Changed # BREAKING Save format for many components #11 Even if you added more elements than before on prefab, added elements on prefab instance will be kept. In previous implementation (unity default array prefab overrides implementation), can be broken easily. BREAKING All materials are merged by default #11 Due to save format migration, every materials will be marked as merged. If you have some materials not to be merged, please re-reconfigure that. Fixed # Fixed IndexOutOfError if there are more bones than bindposes #30 SkinnedMeshRenderers without bones will break mesh #35 We may forget checking components on disable objects #46 0.1.4 # Added # Support for feature Migration be0147b Changed # Box editor of RemoveMeshInBox 15fc931 Installer unitypackage name b32167f Warn if MergeSkinnedMesh is with SkinnedMeshRenderer with Mesh 1016aa6 Fixed # MergeToonLit is always marked as dirty 82ba212 RemoveMeshInBox does not handle bone correctly b2fea4f 0.1.3 # Fixed # Merge ToonLit error d0f1ef2 NRE if some bone is null 88efc2a 0.1.2 # Fixed # FreezeBlendShape behaviour 0cebf27 0.1.1 # Added # (internal) MeshInfo2 system for speed up 36716dd RemoveMeshInBox component 96f3526 Changed # Make VPAI installer unitypackage install 0.1.x 6615991 Editor of FreezeBlendShape cdd2031 Fixed # Several bugs 0.1.0 - 2023-01-16 # Changed # Move components from Anatawa12/ to Optimizer/ 949d267 Fixed # Several bugs 0.0.2 - 2023-01-15 # Added # Build Badges onto README 57614ac How to build onto README 2ad57cc Merge ToonLit Material a460e3f Fixed # FreezeBlendShape remains 95c0d43 0.0.1 - 2023-01-13 # Added # Merge Skinned Mesh Merge PhysBone Freeze BlendShape Merge Bone Clear Endpoint Position "},{"id":2,"href":"/avatar-optimizer/en/docs/component-kind/","title":"Component Kinds","section":"Docs","content":""},{"id":3,"href":"/avatar-optimizer/en/docs/reference/","title":"Component Reference","section":"Docs","content":" Component Reference # This section contains detailed documentation on the components included in the Avatar Optimizer.\n"},{"id":4,"href":"/avatar-optimizer/en/docs/component-kind/avatar-global-components/","title":"Avatar Global Components","section":"Component Kinds","content":" Avatar Global Components # Avatar Global Component is a kind of component which should be added to an avatar root and applied to whole avatar. The \u0026ldquo;avatar root\u0026rdquo; is the GameObject at the top of the avatar hierarchy. For example, in the case of a VRChat avatar, the \u0026ldquo;avatar root\u0026rdquo; is the GameObject that has the VRC Avatar Descriptor component. If you add any Avatar Global Components to anything other than the avatar root, you\u0026rsquo;ll see error on the inspector and will not have any effect.\nFollowing components are Avatar Global Component.\nTrace And Optimize UnusedBonesByReferencesTool "},{"id":5,"href":"/avatar-optimizer/en/docs/reference/trace-and-optimize/","title":"Trace And Optimize","section":"Component Reference","content":" Trace And Optimize # Previously known as Automatic Configuration\nThis component will trace your avatar and optimize your avatar automatically. You can enable/disable some automatic optimization features with checkboxes.\nThis component is Avatar Global Component, so this should be added to an avatar root.\nCurrently the following optimizations are applied automatically.\nFreezeBlendShape Automatically freezes unused BlendShapes in animation or else. Remove unused Objects By scanning animation, etc., Automatically removes unused Objects. Also, You can adjust optimization with the following settings\nMMD World Compatibility Optimize with considering compatibility with MMD Worlds. e.g. Not freezing BlendShapes used by MMD Worlds. Use Advanced Animator Parser To determine where AAO can optimize, AAO parses AnimatorControllers. If this option is enabled, AAO will use Advanced Animator Parser which parses layer structure of AnimatorController and BlendTree structure. If this option is disabled, AAO will use Fallback Animator Parser which collects all AnimationClips and parses AnimationClips. Fallback Animator Parser is an legacy process, so it will parse Direct BlendTree incorrectly. Normally, you do not need to disable this option. "},{"id":6,"href":"/avatar-optimizer/en/docs/reference/unused-bones-by-references-tool/","title":"UnusedBonesByReferencesTool","section":"Component Reference","content":" UnusedBonesByReferencesTool # Marks it as EditorOnly that bones referenced only from EditorOnly meshes.\nThis component is Avatar Global Component, so this should be added to an avatar root.\nThis is port of UnusedBonesByReferencesTool by Narazaka but run at build time.\n"},{"id":7,"href":"/avatar-optimizer/en/docs/component-kind/edit-skinned-mesh-components/","title":"Edit Skinned Mesh Components","section":"Component Kinds","content":" Edit Skinned Mesh Components # Edit Skinned Mesh Component is a kind of component which should be added to a GameObject which has a SkinnedMeshRenderer component, and applies some modification to the SkinnedMeshRenderer.\nThere are two sub-kinds.\nSource Component # This kind of component will produce Mesh and some other properties of SkinnedMeshRenderer. Following components are Source Edit Skinned Mesh Component.\nMergeSkinnedMesh\nThis component will produce mesh from other (Skinned)MeshRenderers.\nModifying Component # This kind of component will (duplicates and) modifies the existing Mesh and some other properties of SkinnedMeshRenderer. Following components are Modifying Edit Skinned Mesh Component.\nRemove Mesh By BlendShape Remove Mesh in Box Freeze BlendShape Merge ToonLit Material "},{"id":8,"href":"/avatar-optimizer/en/docs/reference/merge-skinned-mesh/","title":"Merge Skinned Mesh","section":"Component Reference","content":" Merge Skinned Mesh # Merges one or more SkinnedMeshRenderer and MeshRenderers into one SkinnedMeshRenderer.\nThis component is Source Edit Skinned Mesh Component, so this should be added to a new GameObject which has a SkinnedMeshRenderer component without Mesh specified.\nThis component will merge mesh, bones, Materials, BlendShapes, and Bounds but other settings will not be modified. Please edit SkinnedMeshRenderer component attached to same GameObject as MergeSkinnedMesh to set AnchorOverride or else.\nThis component is good for merging your cloth meshes and body meshes but not good for face meshes because BlendShape can cause performance impact. BlendShape is a feature became heavier in proportion to the count of vertices and BlendShapes. Merging SkinnedMesh increases vertices and face mesh usually have many BlendShapes. That\u0026rsquo;s why it\u0026rsquo;s not good to merge face meshes.\nIn addition, because of same reasons, you should freeze \u0026amp; remove unchanging BlendShapes for body / cloth meshes. You can freeze \u0026amp; remove BlendShape using Freeze BlendShape component. Add this component to both/either merge source SkinnedMeshRenderer and/or merged SkinnedMeshRenderer to freeze \u0026amp; remove BlendShapes.\nSettings # Skinned Renderers # The list of SkinnedMeshRenderers to be merged.\nDrop to None element at the bottom to add renderer and reset to None to remove from the list.\nStatic Renderers # The list of MeshRenderers (without mesh transform).\nThose meshes are transformed to polygons weighted to one bone, the GameObject that MeshRenderer belongs to.\nDrop to None element at the bottom to add renderer and reset to None to remove from the list.\nRemove Empty Renderer GameObject # If this checkbox is checked and the GameObject SkinnedMeshRenderer belongs to does not have any other components than SkinnedMeshRenderer, the GameObject will be removed from Hierarchy.\nMerge Materials # If MergeSkinnedMesh component found some Materials used in multiple renderers, the Materials will be listed here.\nCheck Merge to merge those MaterialSlots (SubMeshes) into one MaterialSlot. This reduces DrawCalls.\n"},{"id":9,"href":"/avatar-optimizer/en/docs/reference/freeze-blendshape/","title":"Freeze BlendShape","section":"Component Reference","content":" Freeze BlendShape # Freeze \u0026amp; remove BlendShape from the mesh.\nThis component is Modifying Edit Skinned Mesh Component, so this should be added to a GameObject which has a SkinnedMeshRenderer component.\nSettings # You\u0026rsquo;ll see list of blend shapes and check to freeze blend shape.\n"},{"id":10,"href":"/avatar-optimizer/en/docs/reference/merge-toonlit-material/","title":"Merge ToonLit Material","section":"Component Reference","content":" Merge ToonLit Material # Merge VRChat/Mobile/Toon Lit materials to one material by packing texture manually.\nThis component is Modifying Edit Skinned Mesh Component, so this should be added to a GameObject which has a SkinnedMeshRenderer component.\nThis component currently only supports VRChat/Mobile/Toon Lit because I believe there are big demands but I may add support for other shaders. (also for third-party shaders) If you want other shader support, please write a issue\nSettings # Click Add Merged Material to add merged material. For each merged material, you can set multiple source materials from materials. Click Add Source or select your material from dropdown menu. For each source material, you must set where to the texture will placed to. Please change X, Y, W, H to fit to where you want. Click Generate Preview to generate each texture and see preview.\n"},{"id":11,"href":"/avatar-optimizer/en/docs/reference/remove-mesh-by-blendshape/","title":"Remove Mesh By BlendShape","section":"Component Reference","content":" Remove Mesh By BlendShape # Remove vertices transformed by specified BlendShape and their polygons.\nThis component is Modifying Edit Skinned Mesh Component, so this should be added to a GameObject which has a SkinnedMeshRenderer component.\nSettings # You\u0026rsquo;ll see list of blend shapes and check to select blendShapes. If some vertices in your mesh is moved more than Tolerance by selected BlendShape, this component will remove the vertices.\n"},{"id":12,"href":"/avatar-optimizer/en/docs/reference/remove-mesh-in-box/","title":"Remove Mesh in Box","section":"Component Reference","content":" Remove Mesh in Box # Remove some polygons in any of specified boxes.\nThis component is Modifying Edit Skinned Mesh Component, so this should be added to a GameObject which has a SkinnedMeshRenderer component.\nSettings # Adjust the value to add box. For each box, you can change the center Position, Size, and Rotation of the box. (In local coordinate)\nClick Edit This Box to show Gizmo to edit the box like below. You can scale, move and rotate the box.\nExample # With boxes shown on upper image, meshes in the box will be removed as lower image shows.\n"},{"id":13,"href":"/avatar-optimizer/en/docs/reference/clear-endpoint-position/","title":"Clear Endpoint Position","section":"Component Reference","content":" Clear Endpoint Position # This component will replace EndpointPosition to 0 with adding _EndPhysBone GameObject.\nThis component should be added to a GameObject which has PhysBone Components.\nThis component doesn\u0026rsquo;t have any configuration for now but there\u0026rsquo;s one button on the view. Clicking Apply and Remove component will applies this operation and removes this component. This may be useful for developing avatars.\n"},{"id":14,"href":"/avatar-optimizer/en/docs/reference/merge-bone/","title":"Merge Bone","section":"Component Reference","content":" Merge Bone # If you add this component to some GameObject, this GameObject will be removed and bone is merged to parent bone.\nIf the parent GameObject also have Merge Bone component, two bones are merged to parent of parent bone and so on.\nAll children of GameObject this component is applied to will belongs to parent of this GameObject.\nThis Component doesn\u0026rsquo;t have any configuration for now.\n"},{"id":15,"href":"/avatar-optimizer/en/docs/reference/merge-physbone/","title":"Merge PhysBone","section":"Component Reference","content":" Merge PhysBone # This component merges multiple PhysBone Components into one Component with MultiChildType == Ignore.\nThis component should be added to a new GameObject.\nSettings # Components # The list of PhysBone Component.\nDrop to None element at the bottom to add PhysBone and reset to None to remove from the list.\nOverrides # Below the configurations, there\u0026rsquo;s configurations like VRCPhysBone. For each property, you may select Copy to copy value from source property (only available if values from the sources are same) or Override to set new value instead.\nFor colliders, you can select Merge to merge colliders array from source physbones.\nFor Endpoint Position, you can select Clear to apply Clear Endpoint Position\n"},{"id":16,"href":"/avatar-optimizer/en/docs/reference/make-children/","title":"Make Children","section":"Component Reference","content":" Make Children # These specified objects will be the children of this GameObject at build time.\nThis component is deprecated.\nThis function is not related to avatar optimization, so this component will be replaced by one in a currently planned non-destructive Avatar Modification Utils.\n"},{"id":17,"href":"/avatar-optimizer/404.html","title":"404th","section":"Introduction","content":""},{"id":18,"href":"/avatar-optimizer/en/docs/tutorial/basic-usage/","title":"Basic Usage","section":"Tutorial","content":" Basic Usage # Merge Meshes to reduce # of Skinned Renderers # You can easily merge Skinned Mesh with Avatar Optimizer!\nWhy will we merge Skinned Mesh?\nMerging Skinned Mesh will reduce number of deforming mesh (skinning). Also, Merging with MergeSkinnedMesh can reduce material slots so we can reduce number of drawing.\nThis time, I\u0026rsquo;ll optimize Anon-chan as a simplest case.\nFirst, create GameObject for merged mesh. Right-click avatar GameObject and click Create Empty to create new GameObject. Then, rename to understandable name. In this document, I call it as Anon_Merged.\nThen, Add Merge Skinned Mesh to Anon_Merged.\nThis adds Merge Skinned Mesh and Skinned Mesh Renderer.\nThe Merge Skinned Mesh will merge specified meshes1 into the attached mesh. To make merge working, let\u0026rsquo;s specify meshes to be merged onto Merge Skinned Mesh!\nTo make it easy to specifying meshes, lock the inspector with Anon_Merged selected. This allow us to drag \u0026amp; drop multiple meshes at once.2\nThen, select meshes except for Body, which is the face mesh, and drag \u0026amp; drop to Skinned Renderers!\nWhy don\u0026rsquo;t we merge face meshes?\nBlendShape (Shape Keys) is a feature became heavier in proportion to the count of vertices and BlendShapes. Therefore, merging face mesh, which has many BlendShapes, and body mesh, which has many vertices, can make your avatar heavier than before so I recommend not to merge face mesh.\nNext, configure Anon_Merged!\nBecause of many reasons3, Merge Skinned Mesh doesn\u0026rsquo;t configure anything except of bones, meshes, materials, BlendShapes and bounds. So, please configure Root Bone, Anchor Override and else yourself. I think specifying Anchor Override of your body and setting Hips as the Root Bone will work well.\nChecking performance rank without uploading avatar # Because Avatar Optimizer is a non-destructive avatar modification tool, Performance Rank on the VRCSDK Control Panel is no loner be relied upon.\nInstead, you can check Performance Rank in Play Mode with Actual Performance Window of anatawa12\u0026rsquo;s Gist Pack. Please check basic usages of anatawa12\u0026rsquo;s Gist Pack and documentation of Actual Performance Window for more details。\nFreezing BlendShape # In addition, you can easily freeze BlendShape(Shape Keys)4 with Avatar Optimizer!\nWhy do we freeze BlendShapes?\nAs I described before, BlendShape (Shape Keys) is a feature became heavier in proportion to the count of vertices and BlendShapes. Also, BlendShape has performance impact just by existing, regardless of its weight. So, freezing BlendShapes make your model lighter even if it\u0026rsquo;s not reflected in Performance Rank. It\u0026rsquo;s better for the merged mesh not to have any BlendShapes if possible.\nNow let\u0026rsquo;s freeze the BlendShapes for the unused body and clothing body shape changes!\nSince AvatarOptimizer v1.2.0, it has easy way to freeze unused BlendShapes.\nThe only step to enable settings for automatic freezing BlendShapes is adding Trace And Optimize to avatar root!\nTrace And Optimize traces your avatar and optimize your avatar automatically.\nIf you don\u0026rsquo;t change body BlendShape in FX Layer or else, you can easily freeze the BlendShape with this way. Also, you can freeze unused BlendShapes in your Face Mesh.\nIf you want to force freeze BlendShapes used in your FX Layer or else, you can use the following manual steps. You can partially configure freezing manually. For example, automatically freeze BlendShape in your face mesh and manually in the body.\nFirst, add Freeze BlendShapes to Anon_Merged, which is the mesh increased vertex count.\nFreeze BlendShape freezes the BlendShape of the attached mesh.\nTo make it working freezing,\nTo make the freezing work, specify the BlendShape to be frozen.\nIf the checkbox is checked, the BlendShape will be frozen.\nIn this document mesh means SkinnedMeshRenderer, not the Mesh asset in Unity.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nIt is useful to keep in mind that it can be used in many other places such as specifying multiple colliders for PhysBone.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nRoot Bone and Anchor Override are impossible to merge automatically I think. If you know any good algorithm, please tel me that.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nBlendShape is the name of Shape Keys in Unity. Unity and Maya call them as Blend Shape, Blender calls them as Shape Key, Metasequoia and MMD call them as Morph.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"},{"id":19,"href":"/avatar-optimizer/en/docs/","title":"Docs","section":"Introduction","content":""}]