[{"id":0,"href":"/avatar-optimizer/beta/ja/docs/tutorial/","title":"チュートリアル","section":"Docs","content":""},{"id":1,"href":"/avatar-optimizer/beta/ja/docs/changelog/","title":"Changelog","section":"Docs","content":" Changelog # このプロジェクトの重要な変更点は以下のとおりです。\nKeep a Changelogをベースにした形式で表記されています。\n1.6.0-beta.7 - 2023-11-11 # Fixed # MergeSMR broken #710 1.6.0-beta.6 - 2023-11-11 # Changed # Remove Unused Objects removes meaningless Animators and Renderers #709 Renderers without Mesh and Animators without AnimatorController is meaningless Fixed # Enablement mismatched renderers are merged instead of matched renderers #705 1.6.0-beta.5 - 2023-11-08 # Fixed # PPtr / Object animation not working #703 1.6.0-beta.4 - 2023-11-08 # Fixed # eyelids BlendShape Removed error for non-AAO avatars #696 bounds can be changed in apply on play if updateWhenOffscreen is true #697 Animations for most components under MergeBone is not mapped #700 1.6.0-beta.3 - 2023-11-06 # Added # Remove Zero Sized Polygons #659 Add support for UniVRM components #653 Support for Mesh Topologies other than Triangles #692 Skip enablement mismatched Renderers in Merge Skinned Mesh #670 This is now enabled by default for newly added Merge Skinned Mesh. Changed # When you\u0026rsquo;re animating activeness/enablement of source renderers, warning is shown since this release #675 Fixed # proxy animation can be modified #678 complex shader with SkinnedMeshRenderer without Bones Brokebn #694 1.6.0-beta.2 - 2023-10-31 # Added # Small performance improve #641 Ability to prevent changing enablement of component #668 Changed # All logs passed to ErrorReport is now shown on the console log #643 Improved Behaviour with multi-material multi pass rendering #662 Previously, multi-material multi pass rendering are flattened. Since 1.6, flattened if component doesn\u0026rsquo;t support that. BREAKING API CHANGES: Behaviour components are renamed to HeavyBehaviour #668 Removed # Preventing removing IEditorOnly in callback order -1024 #658 This is no longer needed sincd 1.5.0 but I forgot to remove so I removed in 1.6 Fixed # Prefab blinks when we see editor of PrefabSafeSet of prefab asset #645 #664 Fixes in 1.5.9 #654 1.5.10 - 2023-11-04 # Fixed # RigidBody Joint can be broken #683 1.5.9 - 2023-10-29 # 1.5.9-rc.1 - 2023-10-28 # Fixed # Animation clip length can be changed #647 1.6.0-beta.1 - 2023-10-25 # Added # Public API for registering component information #623 Documentation for developers about compatibility with Avatar Optimizer #623 Disabling PhysBone animation based on mesh renderer enabled animation #640 If you toggles your clothes with simple toggle, PhysBones on the your avatar will also be toggled automatically! Removed # Legacy GC #633 Fixed # Improve support of newer Unity versions #608 Improve support of projects without VRCSDK #609 #625 #627 1.5.8 - 2023-10-20 # 1.5.8-rc.1 - 2023-10-20 # Fixed # warning about VRCTestMarker when Build \u0026amp; Test #628 1.5.7 - 2023-10-19 # 1.5.7-beta.1 - 2023-10-19 # Added # Add compatibility for VRCQuestTools #619 Fixed # AutoFreezeBlendShape will freeze BlendShapes with editor value instead of animated constant #622 1.5.6 - 2023-10-17 # 1.5.6-rc.1 - 2023-10-17 # Removed # Error for Read/Write Mesh off Mesh #615 Since AAO creates Mesh every time, no more error is required! Fixed # BindPose Optimization may break mesh with scale 0 bone #612 Error from Preview System when opening inspector of GameObject without SkinnedMeshRenderer #613 1.5.6-beta.2 - 2023-10-16 # Changed # Make no-op as possible if no AAO component attached for your avatar #603 Error Report window is refreshed after exiting play mode #606 Fixed # Update notice may show incorrect version #602 Preview button is not disabled even if mesh is none #605 1.5.6-beta.1 - 2023-10-16 # Fixed # Multi-frame BlendShape can be broken #601 1.5.5 - 2023-10-15 # 1.5.5-rc.1 - 2023-10-15 # Fixed # BlendShape can be broken with MergeBone Optimization #599 1.5.5-beta.1 - 2023-10-15 # Fixed # Constraints and Animations can be broken with Automatic MergeBone #594 NRE with SMR with None with preview system #596 Some Multi-Frame BlendShape broken #597 1.5.4 - 2023-10-14 # Added # Add compatibility for Satania\u0026rsquo;s KiseteneEx #584 Changed # Normal check is skipped for empty mesh #588 Meshes without Normal are shown on the normal existance mismatch warning #588 Fixed # Error with MeshRenderer without MeshFilter #581 Preview not working with VRMConverter #582 AvatarMask about HumanoidBone broken #586 Unused Humanoid Bones can be removed #587 1.5.3 - 2023-10-11 # Changed # Ignore the warning instead of migration from 0.3.x or older #570 Fixed # AnimatorOverrideController may not be proceed correctly #567 Unclear behaviour if we merged meshes with and without normals #569 1.5.3-beta.1 - 2023-10-10 # Fixed # AnimatorController with Synced can be broken #564 1.5.2 - 2023-10-10 # 1.5.2-beta.3 - 2023-10-10 # Fixed # New version notice remains after updating AAO without restarting UnityEditor #559 Freeze BlendShape may break Visame with MergeSkinnedMesh #561 1.5.2-beta.2 - 2023-10-10 # Added # More MMD BlendShapes are registered #552 New English Translation BlendShapes are compatible with AAO! Check for update #554 Changed # You now cannot key any of AvatarOptimizer Components #551 Previously you can key AvatarOptimizer Coponent but it was meaningless. Fixed # GC Debug doesn\u0026rsquo;t include inactive objects #546 EditMode Preview of RemoveMeshInBox is not correct #550 Avatar Standard Colliders can be removed #553 1.5.2-beta.1 - 2023-10-09 # Added # Feature for debugging GC Objects #543 1.5.1 - 2023-10-08 # 1.5.1-beta.1 - 2023-10-08 # Fixed # MergePhysBone component may be shown as unknown components #541 MergeBone may break Fur #542 1.5.0 - 2023-10-07 # 1.5.0-rc.13 - 2023-10-07 # Changed # Change Japanese Translation of \u0026ldquo;BlendShape\u0026rdquo; #535 1.5.0-rc.12 - 2023-10-07 # 1.5.0-rc.11 - 2023-10-05 # Fixed # Viseme may be broken #527 1.5.0-rc.10 - 2023-10-03 # Added # Significant Performance Improvements with small code changes #523 1.5.0-rc.9 - 2023-09-28 # Fixed # Editor of EditSkinnedMesh components may not work well if the object is inactive #518 1.5.0-rc.8 - 2023-09-25 # Added # Warning Dialog for Legacy Modular Avatar #509 Changed # Internal: ErrorReporting is now on NDMF #511 Declare compatible with VRCSDK 3.4.x #513 Fixed # (legacy) Animation Component Disappears #512 VRC_SpatialAudioSource Disappears #512 Unknown component warning for AvatarActivator of NDMF #512 Avoid problematic material slot in MergeSkinnedMesh #508 This avoids Unity\u0026rsquo;s bug in 2019. In Unity 2022, this is no longer needed. 1.5.0-rc.7 - 2023-09-24 # Added # Support for NDMF integration #375 Removed # internal ApplyOnPlay framework #504 1.5.0-rc.6 - 2023-09-24 # Fixed # AvatarMask broken with many cases #502 1.5.0-rc.5 - 2023-09-23 # Added # Full EditMode Preview of RemoveMesh Components #500 Fixed # Remove unused bone references #498 MergeBone will loose some other transform information with extreamly small parent scale #499 1.5.0-rc.4 - 2023-09-21 # Fixed # Left eye disappears #493 MergeBone will loose transform information with extreamly small parent scale #495 Manually configured MergeBone is removed / disabled by GC Objects #496 1.5.0-rc.3 - 2023-09-19 # Fixed # Eyelid bones disappears with Automatic MergeBone #487 1.5.0-rc.2 - 2023-09-15 # Added # Automatically merge unnecessary activeness animated GameObject #476 1.5.0-rc.1 - 2023-09-14 # Fixed # StaticRenderer is not removed with MergeSkinnedMesh #473 1.5.0-beta.14 - 2023-09-14 # Added # Avoid Name Conflict in MergeBone #467 Fixed # Light disappears #466 Automatic MergeBone may break Animation by conflictng GameObject name #467 1.5.0-beta.13 - 2023-09-13 # Added # Feature for debugging GC Objects #464 Fixed # Collider disappears #463 Behaviour can disappears if initially disabled #465 1.5.0-beta.12 - 2023-09-13 # Fixed # Transform animation broken #461 1.5.0-beta.11 - 2023-09-13 # Fixed # Tangent is broken with MergeBone #457 VRCStation disappears #460 1.5.0-beta.10 - 2023-09-12 # Fixed # Error if we merge bone recursively #456 1.5.0-beta.9 - 2023-09-12 # Fixed # Automatic MergeBone doesn\u0026rsquo;t think about animating m_IsActive of GameObject #454 MergeBone may make some bone inactive to active if bone being merged is inactive #454 1.5.0-beta.8 - 2023-09-11 # Fixed # MergeBone will break Normal and Tangent #448 PhysBone for Animator Parameter disappears #452 RemoveMeshByBlendShape on the SkinnedMeshRenderer with MergeSkinnedMesh not working #451 1.5.0-beta.7 - 2023-09-08 # Fixed # GC Objects will remove VRC Contact Components #438 Error if all vertices of some BlendShape is removed by RemoveMeshByBlendShape or RemoveMeshInBox #440 Inactivating parent GameObject or GameObject of component is not accounted in GC Objects #441 1.5.0-beta.6 - 2023-09-07 # Added # Automatic MergeBone in Remove Unused Objects #433 Preserve end bones in Remove Unused Objects #430 This does same thing as Preserve end bones in UnusedBonesByReferenceTool. Deprecated # UnusedBonesByReferenceTool component is now obsolete #430 Newly introduced algorithm ofRemove Unused Objects does same thing! You can migrate to Remove Unused Objects only with one click! Fixed # Unknown type warning is not correctly rendered #427 MergeBone with uneven scale is supported if all children are merged #426 MakeChidlren are detected as Unknown Component #431 1.5.0-beta.5 - 2023-09-06 # Added # Pre-building validation for MergeBone #417 There are some (rare) cases that are not supported by MergeBone. This adds warning for such case. Validation error for self recursive MergeSkinnedMesh #418 Advanced Settings Section for Trace and Optimize #419 Moved Use Advanced Animator Parser to there Added Exclusions for exclude some GameObjects from optimization Added Use Legacy GC to use legacy algotythm for Remove Unused Objects Changed # Performance: Share MeshInfo2 between SkinnedMesh processing and MergeBone #421 Fixed # Unknown Type Error is not localized #410 Crash with Unity 2022 #423 Due to bug in Unity Editor 2022.3 or later, Avatar Optimizer was not compatible with Unity 2022. worldUpObject is not proceed in GC Objects #424 1.5.0-beta.4 - 2023-09-05 # Changed # Merged changes in 1.4.3 #409 1.4.3 - 2023-09-05 # 1.4.3-beta.1 - 2023-09-05 # Fixed # Mesh broken with BlendShape Frame with weight 0 #408 1.5.0-beta.3 - 2023-09-05 # Fixed # Unable to upload avatars with VRCSDK 3.2.x #407 1.5.0-beta.2 - 2023-09-04 # Fixed # Animator Component Disappears #404 MeshFilter Component Disappears with MeshRenderer #405 1.5.0-beta.1 - 2023-09-04 # Changed # Improved \u0026lsquo;Remove Unused Objects\u0026rsquo; #401 Remove Unused Objects now removes unnecessary Components \u0026amp; Bones! 1.4.2 - 2023-09-04 # Fixed # Components/GameObjects can falsely detected as always disabled / inactive. #403 1.4.1 - 2023-09-02 # Fixed # RootBone become None with Merge SkinedMesh #399 1.4.0 - 2023-09-02 # 1.4.0-rc.4 - 2023-09-01 # 1.4.0-rc.3 - 2023-09-01 # Changed # Declare compatible with VRCSDK 3.3.x #395 Understandable Error if there are Missing Script Component #398 Why VRCSDK doesn\u0026rsquo;t have such a error system? 1.4.0-rc.2 - 2023-08-29 # Added # Remove Mesh By BlendShape Editor now can set blendshape weights to 0/100 #389 Fixed # Clear Endpoint Position may not work well with ignore transforms #390 Clear Endpoint Position doesn\u0026rsquo;t support Undo #390 1.4.0-rc.1 - 2023-08-27 # Added # Multi Pass Rendering of Last SubMesh support #384 Fixed # Unclear Error with Mesh with Read/Write off #386 1.4.0-beta.1 - 2023-08-26 # Added # Support for Multi Frame BlendShapes #333 Add link to help page #382 Advanced Animator Parser #343 This is new AnimatorController parser to collect animated properties This parser understands AnimatorLayers, so with this parser, AAO can freeze BlendShapes which are always finally animated to a constant value. This also understands Additive Layer and BlendTree, so extremely rare problem in previous Animator Parser with Additive Layer or BlendTree will be fixed with this parser. Changed # Auto FreezeBlendShape now freezes meaningless BlendShape #334 If you removed some vertices with RemoveMeshInBox or RemoveMeshWithBlendShape, some BlendShape may transform no vertices Auto FreeseBlendShae now freezez such a BlendShapes Auto FreezeBlendShape now freezes vertices even if already FreezeBlendShape is configured. #334 Meshes generated by AAO now have name #371 This will improve compatibility with UniVRM. VPM Package now doesn\u0026rsquo;t include Test code #372 #373 Better error infomation for MeshInfo2 error #381 Fixed # MergeBone not working well with non-restpose bones #379 1.3.4 - 2023-08-22 # Changed # Internal implementation of Trace and Optimize #361 Documentation Improvements #366 #365 1.3.3 - 2023-08-21 # Changed # BlendShape Weight mismatch warning is now build-time warning instad of validate time warning #359 Thanks to FreeseBlendShape by TraceAndOptimize, most pre-build this warning is false positive. So this warning is moved to build-time only. Fixed # ClearEndpointPosition is not applied for non-first PhysBones on the GameObject #357 Incompatbile with Reload Scene disabaled #358 1.3.2 - 2023-08-20 # 1.3.2-beta.3 - 2023-08-20 # Fixed # No error context in Multi Pass Rendering error #348 1.3.2-beta.2 - 2023-08-20 # Fixed # Multi Passs Rendering not supported error doesn\u0026rsquo;t have location info #347 1.3.2-beta.1 - 2023-08-20 # Fixed # Children of IsActive animated object is not considered #342 1.3.1 - 2023-08-19 # Fixed # Unity Editor may freezes when there are circular dependency #329 Network ID is not assigned for newly created PBs #331 Internally assigned animator controller is not skipped for default choosen playable layer in Trace and Optimize #332 VRCSDK assigned default animators are not considered in Trace and Optimize #332 This bug doesn\u0026rsquo;t create bad behavior for now but will does in the feature. Humanoid Animation are not considered in Trace and Optimize #332 This bug doesn\u0026rsquo;t create bad behavior for now but will does in the feature. Material Slot with null material is created if there are more SubMesh than Material Slots #337 AAO silently ignored multi pass rendering #337 For now, multi pass rendering of last SubMesh is not (yet) supported so now cause error but will be supported. There is no warning about BlendShape weight difference #336 1.3.0 - 2023-08-12 # Changed # ApplyOnPlayGlobalActivator is no longer added for scens without avatars #318 1.3.0-rc.2 - 2023-08-11 # Fixed # Apply On Play may not working well #305 Some components unexpectedly can be added multiple times #306 1.3.0-rc.1 - 2023-08-10 # Added # Remove always disabled objects #278 The new Remove Mesh By Blend Shape component removes mesh data based on blend shapes. #275 Option to process Make Children before modular avatar #296 Changed # Use UnityEditor api to compress texture #276 This also adds some supported texture formats. Every component have AAO prefix in their name now #290 The official shorthand for this tools is AAO! Automatic Configuration component has been renamed to Trace And Optimize #295 Fixed # UnusedBonesByReferenceTool error with SMR without mesh #280 MergeSkinnedMesh doesn\u0026rsquo;t work well with eyelids #284 Animating Behaviour.m_Enabled not working #287 Error Report Window may not refreshed after build error #299 1.2.0 - 2023-07-26 # Added # Support for material swapping animation in MergeSkinnedMesh #274 1.2.0-rc.1 - 2023-07-24 # Fixed # Breaks mesh without tangent #271 1.2.0-beta.1 - 2023-07-17 # Added # Automatic bounds computation in MergeSkinnedMesh #264 Automatic Configuration System #265 Currently FreezeBlendShape can be automatically configured. Changed # Support newly activated avatars in play mode for apply on play #263 1.1.2-beta.1 - 2023-07-17 # This release is mistake.\n1.1.1 - 2023-07-14 # Changed # Avatar GameObject marked as EditorOnly no longer be removed #261 Previously, if avatar GameObject is marked as EditorOnly, whole avatar is removed and this confuses users. Fixed # Name of failed ApplyOnPlayCallback is not included in error message #260 Entering play mode can be extremely slow if you have many avatar on the scene #262 1.1.0 - 2023-07-13 # Changed # Do not compress MergeToonLit generated texture on play #258 1.1.0-rc.1 - 2023-07-10 # 1.1.0-beta.2 - 2023-07-08 # Fixed # Asset files are not generated with Manual Bake #255 Merge Toon Lit duplicates vertex too many #256 This could causes huge increase in avatar size. this is now fixed. 1.1.0-beta.1 - 2023-07-07 # Added # Now we can choose texture format for Merge Toon Lit Material #251 This includes one tiny BREAKING CHANGES. Previously MergeToonLit uses ARGB32 as texture format but for now, it use ASTC 6x6 or DXT5 by default based on platform. Changed # Move Components into Avatar Optimizer folder #247 Previously they are Optimizer folder Completely rewrite apply on play system #249 This replaces way to awake modular-avatar by bdunderscore. The framework for this changes will be published as separated framework when ready. Use binary form of asset file in avatar optimizer output #252 Fixed # Manual bake not working with avatars with invalid file name chars #253 1.0.0 - 2023-06-27 # 1.0.0-beta.5 - 2023-06-26 # If you\u0026rsquo;re using v0.3.x or older, Please upgrade to v0.4.x before upgrading v1.x.x!\nもし v0.3.x 以前を使用しているのであれば, v1.x.xに更新する前に v0.4.x に更新してください!\nChanged # Merged changes in 0.4.12 0.4.12 - 2023-06-22 # Changed # MergePhysBone without ClearEndpointPosition #239 Instead of ClearEndpointPosition, you can use original value, or override Endpoint Position. 1.0.0-beta.4 - 2023-06-19 # If you\u0026rsquo;re using v0.3.x or older, Please upgrade to v0.4.x before upgrading v1.x.x!\nもし v0.3.x 以前を使用しているのであれば, v1.x.xに更新する前に v0.4.x に更新してください!\nChanged # Merged changes in 0.4.8, 0.4.9, 0.4.10, and 0.4.11 0.4.11 - 2023-06-19 # Changed # Show error with user friendly message if blendshape for eyelids are removed / frozen. #253 Fixed # eyelids BlendShape settings are mapped even if it\u0026rsquo;s disabled #235 This fixes error if internally eyelids BlendShape are frozen. 0.4.10 - 2023-06-17 # 0.4.10-beta.1 - 2023-06-17 # Fixed # PrefabSafesSet\u0026rsquo;s prefab modifications on latest layer are invisible on inspector #229 0.4.9 - 2023-06-16 # Fixed # NullReferenceException if window is in background #226 0.4.8 - 2023-06-16 # 1.0.0-beta.3 - 2023-06-13 # If you\u0026rsquo;re using v0.3.x or older, Please upgrade to v0.4.x before upgrading v1.x.x!\nもし v0.3.x 以前を使用しているのであれば, v1.x.xに更新する前に v0.4.x に更新してください!\nAdded # Merged changes in 0.4.7 #224 0.4.7 - 2023-06-13 # Fixed # Dropping PhysBone to MergePhysBone is not working #221 First box will be size of zero #223 1.0.0-beta.2 - 2023-06-10 # If you\u0026rsquo;re using v0.3.x or older, Please upgrade to v0.4.x before upgrading v1.x.x!\nもし v0.3.x 以前を使用しているのであれば, v1.x.xに更新する前に v0.4.x に更新してください!\nAdded # Merged changes in 0.4.5 and 0.4.6 #218 0.4.6 - 2023-06-10 # Changed # Improve ErrorReport window on build error #216 0.4.5 - 2023-06-06 # Fixed # Error in MergeSkinnedMeshProcessor with RecordMoveProperty #214 1.0.0-beta.1 - 2023-06-05 # If you\u0026rsquo;re using v0.3.x or older, Please upgrade to v0.4.x before upgrading v1.x.x!\nもし v0.3.x 以前を使用しているのであれば, v1.x.xに更新する前に v0.4.x に更新してください!\nRemoved # Save format migration system #199 We no longer see save data in format of v0.3.x or older. Please migrate to v0.4.x format before installing v1.0.0. 0.4.5-beta.1 - 2023-06-05 # 0.4.4 - 2023-06-04 # 0.4.4-rc.1 - 2023-06-04 # Changed # Make Remove Empty Renderer Object enabled by default #208 0.4.3 - 2023-06-02 # Added # Adding multiple values to PrefabSafeSet #200 See this video for more details. Overriden PrefabSafeSet properties are now highlighted as blue and bold #200 Fixed # Error when we removed some modification in PrefabSafeSet #201 There are several situations for this problem: When we removed value in original component When we removed new value in overrides When we reverted added twice in overrides When we reverted deletion in overrides When we reverted fake deletion in overrides Error when we reverted whole PrefabSafeSet with modifications #201 0.4.2 - 2023-05-30 # Fixed # MergeSkinnedMesh depends on other EditSkinnedMesh components does not working #195 Error with removed modified property in PrefabSafeSet Editor #196 Apply on Play may not work #198 0.4.1 - 2023-05-23 # Changed # Disable animating m_Enabled of source SkinnedMeshRenderer #190 Animating m_Enabled of source SkinnedMeshRenderer now doesn\u0026rsquo;t affects merged SkinnedMeshRenderer If you actually want to enable/disable merged SkinnedMeshRenderer, animate m_Enabled of merged SkinnedMeshRenderer instead. 0.4.1-rc.3 - 2023-05-22 # Fixed # Name of Is Animated and Parameter field are not correct #183 We cannot set override setting of Colliders to Copy #183 Error with MergeToonLit #185 Poor word choice in Japanese Translation #174 Localization is not applied for some fields #186 0.4.1-rc.2 - 2023-05-22 # Fixed # Errors in Animation Mapping System #176 Error with removed property Error with Property moved twice Merge PhysBone is not working #177 Previously, values are not copied correctly The help box for description of components without description were shown #178 0.4.1-rc.1 - 2023-05-21 # Changed # Improve Animation Mapping System #172 This should reduce build time 0.4.1-beta.1 - 2023-05-20 # Changed # Reimplemented Animation Mapping System Completely #168 This should fixes problem with objects/components at same place. Fixed # Error is not cleared on build #170 0.4.0 - 2023-05-20 # 0.4.0-rc.2 - 2023-05-19 # Fixed # Error when we opened Editor of MergePhysBone component #167 0.4.0-rc.1 - 2023-05-19 # Changed # Save format for MergePhysBone #166 Previously used backed PhysBone component for override values are removed. There are no changes in behaviour. Just migrate your assets. Fixed # Error with Animator at non-root GameObject #164 Error with copied MergePhysBone component #165 0.4.0-beta.1 - 2023-05-16 # Added # Japanese Translation: 日本語化 #152 Removed # Delete GameObject feature #153 Use EditorOnly tag instead 0.3.5 - 2023-05-15 # Changed # Internal Errors not relates to any Object are now reported #160 Fixed # Error if there are multiple GameObjects with same path #159 0.3.4 - 2023-05-15 # Fixed # Reference to Component will become None #156 BlendShapes for Eyelids can be broken with FreezeBlendShape #154 0.3.3 - 2023-05-14 # 0.3.2 - 2023-05-14 # Added # Manual Bake Avatar #147 Left click the avatar and click [AvatarOptimizer] Manual Bake Avatar 0.3.2-beta.2 - 2023-05-12 # Added # Website for AvatarOptimizer #139 Will be available at https://vpm.anatawa12.com/avatar-optimizer/ For now, beta site is only available at https://vpm.anatawa12.com/avatar-optimizer/beta 0.3.2-beta.1 - 2023-05-09 # Added # Error Reporting System #124 This adds window shows errors on build This is based on Modular Avatar\u0026rsquo;s Error Reporting Window. thanks @bdunderscore Changed # Improved \u0026amp; reimplemented Animation (re)generation system #137 This is completely internal changes. Should not break your project In previous implementation, animations for GameObjects moved by MergeBone, MergePhysBone or else doesn\u0026rsquo;t work well This reimplementation should fix this problem Fixed # Migration fails with scenes/prefabs in read-only packages #136 Now, migration process doesn\u0026rsquo;t see any scenes/prefabs in read-only packages. 0.3.1 - 2023-05-05 # Fixed # Can\u0026rsquo;t remove SkinnedMeshRenderer error #133 This error should do nothing bad but it confuses everyone Bad behaviour with VRCFury on build #134 0.3.0 - 2023-05-04 # Fixed # Parent differ error is gone #129 0.3.0-rc.2 - 2023-05-02 # Fixed # Max Squish is not shown if we\u0026rsquo;re using PhysBone 1.0 #127 0.3.0-rc.1 - 2023-04-30 # Changed # Upgrade CL4EE to 1.0.0 #121 0.3.0-beta.3 - 2023-04-28 # Added # UnusedBonesByReferencesTool #112 This is port of UnusedBonesByReferencesTool by Narazaka Support for VRCSDK 3.2.0! #117 This includes support for PhysBone Versions and PhysBone 1.1 Removed # Removed support for VRCSDK 3.1.x. #117 Dropping VRCSDK support is a BREAKING changes. However, we may drop old VRCSDK support in the minor releases of AvatarOptimizer in the feature. In the other hand, we promise we\u0026rsquo;ll never drop old VRCSDK support in the patch releases. Notice: in the 0.x.y release, y is a minor releases in this project. 0.3.0-beta.2 - 2023-04-26 # Fixed # ShouldIgnoreComponentPatch cases compilation error #108 Not working on the build time #114 0.3.0-beta.1 - 2023-04-24 # Added # Make Children of Me #100 As a alternative of feature removal in same pull request Changed # Use IEditorOnly instead of mokeypatching VRCSDK #102 Move the toggle for Override and the setting of the value after Override closer together. #105 With this changes, the merged PhysBone is now hidden. The merged PhysBone will be shown in Play mode. Now we can Copy (instead of Override) Pull, Gravity, Immobile properties even if Integration Type is overriden. #105 During migration, if Integration Type (previously called Force) is configured to be Override, Pull, Gravity, Immobile will be configured to be Override. This is BREAKING changes. Now we can Copy / Override Immobile Type and Immobile (strength) separately. #105 Previously, if you override Immobile Type, you also required to override Immobile but no longer required. This is BREAKING changes in the semantics of immobile property. Removed # BREAKING Removed Prefab Safe List #95 BREAKING Removed RootTransform feature from MergePhysBone #100 See this issue comment for more datails. BREAKING Dropped support for VRCSDK 3.1.12 or older #101 Now, we require VRCSDK since 3.1.13 (including) until 3.2.0 (excluding) 0.2.8 - 2023-04-19 # 0.2.8-rc.1 - 2023-04-19 # Fixed # NullReferenceException with prefabs in editor for PrefabSafeSet #92 0.2.7 - 2023-04-01 # 0.2.7-beta.1 - 2023-04-01 # Added # Support for VRCSDK 3.1.12 and 3.1.13 0.2.6 - 2023-03-31 # 0.2.6-rc.4 - 2023-03-30 # Fixed # Mesh is broken if more than 65536 vertices are exists #87 Because we didn\u0026rsquo;t check for vertices count and index format, vertex index can be overflow before. Generated assets are invisible for a while #88 0.2.6-rc.3 - 2023-03-29 # Fixed # Assertion does not work well #85 This can make invalid mesh 0.2.6-rc.2 - 2023-03-29 # 0.2.6-rc.1 - 2023-03-28 # Added # Internationalization support #77 This adds way to translate editor elements. However, no other language translation than English is not added yet. Please feel free to make PullRequest if you can maintain the translation. Fixed # Remove Empty Renderer Object is not shown on the inspector #76 normal vector and tangent vector might not be unit length #81 This can be problem with FreezeBlendShape. 0.2.5 - 2023-03-24 # Added # Show SaveVersion internal property on editor. #71 This makes it easier to make it easier to see prefab overrides Changed # use ExecuteAlways instead of ExecuteInEditMode #72 Fixed # None is added/removed on the prefab modifications #73 NullReferenceException in SetCurrentSaveVersion #74 0.2.5-rc.1 - 2023-03-23 # Changed # reduce unnecessary modification in PrefabSafeSet/List #64 Previously PrefabSafeSet/List will always generates array size change modification. Now, array size change will be generated when added/removed elements from the collection. Fixed # save version is not saved again #69 0.2.4 - 2023-03-22 # Changed # make accessing v1 error #61 This reduces future mistakes like #59 Fixed # RemoveMeshInBox refers old v1 configuration #60 0.2.3 - 2023-03-20 # Fixed # instantiating material occurs #58 0.2.2 - 2023-03-20 # Added # Make Children #53 Changed # Do not use cache on applying components now #56 Fixed # NullReferenceException if some component is removed #54 save version is not saved. this may break future migration #55 0.2.1 - 2023-03-20 # 0.2.1-beta.1 - 2023-03-20 # Fixed # Migration failed if some renderer is None #49 0.2.0 - 2023-03-19 # 0.2.0-rc.2 - 2023-03-16 # Added # Reopening scene after migration #47 Fixed # unnecessary logs on migration #38 We may forget checking components on disable objects #46 0.2.0-rc.1 - 2023-03-12 # Fixed # SkinnedMeshRenderers without bones will break mesh #35 Reference to components in prefab asset will remain #37 0.2.0-beta.2 - 2023-03-04 # Added # Forge Migration #31 With this feature, you can re-migrate everything but you may lost changes you made in v0.2 Fixed # Migration of PrefabSafeSet prefab overrides is not well #29 Fixed IndexOutOfError if there are more bones than bindposes #30 0.2.0-beta.1 - 2023-03-03 # Added # Support for Prerelease in publish system #19 Changelogs (including ones for traditional releases) #19 Auto Test #23 Prefab support #11 Changed # BREAKING Save format for many components #11 Even if you added more elements than before on prefab, added elements on prefab instance will be kept. In previous implementation (unity default array prefab overrides implementation), can be broken easily. BREAKING All materials are merged by default #11 Due to save format migration, every materials will be marked as merged. If you have some materials not to be merged, please re-reconfigure that. 0.1.4 # Added # Support for feature Migration be0147b Changed # Box editor of RemoveMeshInBox 15fc931 Installer unitypackage name b32167f Warn if MergeSkinnedMesh is with SkinnedMeshRenderer with Mesh 1016aa6 Fixed # MergeToonLit is always marked as dirty 82ba212 RemoveMeshInBox does not handle bone correctly b2fea4f 0.1.3 # Fixed # Merge ToonLit error d0f1ef2 NRE if some bone is null 88efc2a 0.1.2 # Fixed # FreezeBlendShape behaviour 0cebf27 0.1.1 # Added # (internal) MeshInfo2 system for speed up 36716dd RemoveMeshInBox component 96f3526 Changed # Make VPAI installer unitypackage install 0.1.x 6615991 Editor of FreezeBlendShape cdd2031 Fixed # Several bugs 0.1.0 - 2023-01-16 # Changed # Move components from Anatawa12/ to Optimizer/ 949d267 Fixed # Several bugs 0.0.2 - 2023-01-15 # Added # Build Badges onto README 57614ac How to build onto README 2ad57cc Merge ToonLit Material a460e3f Fixed # FreezeBlendShape remains 95c0d43 0.0.1 - 2023-01-13 # Added # Merge Skinned Mesh Merge PhysBone Freeze BlendShape Merge Bone Clear Endpoint Position "},{"id":2,"href":"/avatar-optimizer/beta/ja/docs/component-kind/","title":"コンポーネントの種類","section":"Docs","content":""},{"id":3,"href":"/avatar-optimizer/beta/ja/docs/reference/","title":"コンポーネントの詳細説明","section":"Docs","content":""},{"id":4,"href":"/avatar-optimizer/beta/ja/docs/developers/","title":"開発者向け","section":"Docs","content":""},{"id":5,"href":"/avatar-optimizer/beta/ja/docs/component-kind/avatar-global-components/","title":"Avatar Global Components","section":"コンポーネントの種類","content":" Avatar Global Components # Avatar Global Componentはアバターのルートに追加することでアバター全体に作用するコンポーネントです。\n\u0026ldquo;アバターのルート\u0026quot;とは、アバターの最も上の階層にあるGameObjectのことです。 例えばVRChat用アバターの場合、VRC Avatar DescriptorコンポーネントがあるGameObjectが\u0026quot;アバターのルート\u0026quot;です。\nAvatar Global Componentをアバターのルート以外に追加した場合、インスペクター上にエラーが表示され、コンポーネントは一切動作しません。\n以下のコンポーネントがAvatar Global Componentです。\nTrace And Optimize UnusedBonesByReferencesTool "},{"id":6,"href":"/avatar-optimizer/beta/ja/docs/reference/trace-and-optimize/","title":"Trace And Optimize","section":"コンポーネントの詳細説明","content":" Trace And Optimize # 昔のバージョンではAutomatic Configurationという名前でした\nこのコンポーネントは、アバターを走査して自動的にできる限りの最適化を行います。 チェックボックスで自動的に行う最適化を選択することが出来ます。\nこのコンポーネントはアバターのルートに追加してください。(分類: Avatar Global Component)\n現在、以下の機能を使った自動最適化が可能です。\nBlendShapeを自動的に固定・削除する\nアニメーションなどで使われていないBlendShapeを自動的に固定・除去します。 使われていないObjectを自動的に削除する\nアニメーションなどを走査して、使われていないObject(GameObjectやコンポーネントなど)を自動的に削除します。 endボーンを残す\n親が削除されていないendボーン1を削除しないようにします。 面積がゼロのポリゴンを自動的に削除する 面積がゼロのポリゴンを削除します。 また、以下の設定で自動設定を調節できます。\nMMDワールドとの互換性\nMMDワールドで使われるBlendShapeを固定しないなど、MMDワールドとの互換性を考慮した軽量化を行います。 他に、バグの回避などに使用するための高度な設定がありますが、それらは不安定であり、不用意に変更するべきではありません。 それらの機能については英語のTooltipやソースコード、または開発者の指示を参考にしてください。\nAAOは名前がend(大文字小文字の区別なし)で終わるボーンをendボーンとして扱います。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"},{"id":7,"href":"/avatar-optimizer/beta/ja/docs/reference/unused-bones-by-references-tool/","title":"UnusedBonesByReferencesTool","section":"コンポーネントの詳細説明","content":" UnusedBonesByReferencesTool # EditorOnlyなメッシュからしか参照がないボーンをEditorOnlyにします。\nこのコンポーネントはアバターのルートに追加してください。(分類: Avatar Global Component)\nこのコンポーネントは非推奨です。代わりにTrace and Optimizeの使われていないObjectを自動的に削除するを使用してください。 このコンポーネントの動作が改善されることはありません。 これはNarazakaさんのUnusedBonesByReferencesToolを移植したものですが、ビルド時に実行します。\n"},{"id":8,"href":"/avatar-optimizer/beta/ja/docs/component-kind/edit-skinned-mesh-components/","title":"Edit Skinned Mesh Components","section":"コンポーネントの種類","content":" Edit Skinned Mesh Components # Edit Skinned Mesh ComponentはSkinnedMeshRendererコンポーネントのあるGameObjectに追加することで、そのSkinnedMeshRendererに作用するコンポーネントです。\nこのコンポーネントには2つの小分類があります。\nSource Component # メッシュなどを生成するコンポーネントです。\n以下のコンポーネントがSource Edit Skinned Mesh Componentです。\nMergeSkinnedMesh\nこのコンポーネントは他の(Skinned)MeshRendererを基にメッシュを生成します。 Modifying Component # 既にあるメッシュなどを(複製して)編集するコンポーネントです。\n以下のコンポーネントがModifying Edit Skinned Mesh Componentです。\nRemove Mesh By BlendShape Remove Mesh in Box Freeze BlendShape Merge ToonLit Material "},{"id":9,"href":"/avatar-optimizer/beta/ja/docs/reference/merge-skinned-mesh/","title":"Merge Skinned Mesh","section":"コンポーネントの詳細説明","content":" Merge Skinned Mesh # 1つ以上のSkinnedMeshRendererやMeshRendererを1つのSkinnedMeshRendererに統合することが出来ます。\nこのコンポーネントは、メッシュを指定していないSkinnedMeshRendererコンポーネントがある新規GameObjectに追加してください。(分類: Source Edit Skinned Mesh Component)\n利点 # SkinnedMeshRendererを統合することでメッシュを変形させる処理の回数が減り、負荷が軽くなります。 また、同じマテリアルを使用しているマテリアルスロットも統合することができるので、描画負荷も減らす事ができます。\n備考 # アニメーションでメッシュのオン・オフを個別に切り替えたりすることはできなくなりますが、マテリアルに関するアニメーションは統合前のものがそのまま機能します。\nこのコンポーネントはメッシュ・マテリアル・BlendShape・Boundsを設定しますが、その他の設定については変更しません。 AnchorOverride等の設定を行うには、MergeSkinnedMeshのあるGameObject上のSkinnedMeshRendererを編集してください。\nまた、このコンポーネントは、服のメッシュや体のメッシュを統合するのには適していますが、顔のメッシュを統合するのには適していません。\nBlendShapeは、頂点とBlendShapeの数に比例して負荷が大きくなる機能です。 顔のメッシュは一般的に多くのBlendShapeを持っているため、統合対象に含めると頂点数の増加により負荷が大きくなってしまいます。\n同様に、体や服のメッシュのBlendShapeは固定・除去することを推奨します。 Freeze BlendShapeコンポーネントを統合対象・統合先のSkinnedMeshRendererのいずれか(または両方)に追加して、BlendShapeを固定・除去することが出来ます。 Trace and OptimizeコンポーネントのBlendShapeを自動的に固定・削除するによっても同様の効果を得ることが出来ます。\n設定 # スキンメッシュレンダラー # 統合対象のSkinnedMeshRendererの一覧です。\n一番下の\u0026quot;None\u0026quot;と書いてある要素にドラッグ\u0026amp;ドロップすることにより対象を追加し、Noneに戻すことにより対象を一覧から取り除きます。\n静的レンダラー # 統合対象のMeshRendererの一覧です。\n静的メッシュの移動・回転・変形をボーンで再現します。\n一番下の\u0026quot;None\u0026quot;と書いてある要素にドラッグ\u0026amp;ドロップすることにより対象を追加し、Noneに戻すことにより対象を一覧から取り除きます。\n空のレンダラーオブジェクトを削除する # 統合対象のSkinnedMeshRendererが属しているGameObjectにSkinnedMeshRenderer以外のコンポーネントが無い場合、そのGameObjectをヒエラルキーから取り除くオプションです。\n有効無効状態が統合先と異なるレンダラーを統合しない # 統合先のSkinnedMeshRendererと有効無効の状態が異なるSkinnedMeshRendererやMeshRendererが統合対象の中に含まれている場合、それらをビルド時に統合対象から除外するオプションです。\nマテリアルの統合 # 複数の(Skinned)MeshRendererで使用されているマテリアルがある場合、ここに一覧で表示されます。\n統合するにチェックを入れることで、それらのマテリアルスロットを1つに統合します。これはDrawCallを削減します。\n"},{"id":10,"href":"/avatar-optimizer/beta/ja/docs/reference/freeze-blendshape/","title":"Freeze BlendShape","section":"コンポーネントの詳細説明","content":" Freeze BlendShape # BlendShapeをメッシュに固定し、除去することが出来ます。\nこのコンポーネントは、SkinnedMeshRendererコンポーネントのあるGameObjectに追加してください。(分類: Modifying Edit Skinned Mesh Component)\n利点 # BlendShapeの固定・除去には以下の効果があります。\nBlendShapeの値が0以外のときは処理負荷が発生するため、値をアニメーション等で変更しないBlendShapeは固定すると負荷が軽くなります。 値が常に0である場合でも、固定することでアバターの容量を削減することができます。 備考 # 固定すると、アニメーションでの値変更は出来なくなります。\n設定 # BlendShapeの一覧が表示されるので、固定・除去対象のBlendShapeを選択してください。\n"},{"id":11,"href":"/avatar-optimizer/beta/ja/docs/reference/merge-toonlit-material/","title":"Merge ToonLit Material","section":"コンポーネントの詳細説明","content":" Merge ToonLit Material # 手動でテクスチャを並び替えることにより、VRChat/Mobile/Toon Litのマテリアルを1つのマテリアルに統合します。\nこのコンポーネントは、SkinnedMeshRendererコンポーネントのあるGameObjectに追加してください。(分類: Modifying Edit Skinned Mesh Component)\n現在、このコンポーネントは大きな需要があると見られるVRChat/Mobile/Toon Litシェーダーのみをサポートしています。 他のシェーダーのサポートも追加する可能性があります。(サードパーティシェーダーでも対応します) もし対応して欲しいシェーダーがあれば、issueを書いてください。\n設定 # 統合したマテリアルを追加をクリックして、統合後のマテリアルを追加します。 それぞれのマテリアルについて、統合対象のマテリアルを複数選択することが出来ます。 統合対象を追加をクリックするか、ドロップダウンメニューからマテリアルを選択してください。 統合対象のマテリアルについて、テクスチャの配置場所を設定する必要があります。 X, Y, W, Hの値を調整してテクスチャをお好みの位置にを合わせてください。 プレビューを生成をクリックすると、統合後のテクスチャのプレビューがそれぞれ生成されます。\n"},{"id":12,"href":"/avatar-optimizer/beta/ja/docs/reference/remove-mesh-by-blendshape/","title":"Remove Mesh By BlendShape","section":"コンポーネントの詳細説明","content":" Remove Mesh By BlendShape # 指定されたBlendShapeによって動かされる頂点とそのポリゴンを削除します。\nこのコンポーネントは、SkinnedMeshRendererコンポーネントのあるGameObjectに追加してください。(分類: Modifying Edit Skinned Mesh Component)\n利点 # 服で隠れていたりして見えないような部分のメッシュを削除すると、見た目に影響させずに描画負荷やBlendShapeの処理負荷などを減らして軽量化することができます。 このコンポーネントを使用すると、多くの素体に含まれている貫通防止用のBlendShapeを利用して簡単にメッシュを削除することができます。\n設定 # BlendShapeの一覧が表示されるので、BlendShapeを選択してください。 もし選択されたBlendShapeが頂点を許容差より大きく動かしていたら、その頂点を削除します。\n"},{"id":13,"href":"/avatar-optimizer/beta/ja/docs/reference/remove-mesh-in-box/","title":"Remove Mesh in Box","section":"コンポーネントの詳細説明","content":" Remove Mesh in Box # 箱で指定した範囲内のポリゴンを削除します。\nこのコンポーネントは、SkinnedMeshRendererコンポーネントのあるGameObjectに追加してください。(分類: Modifying Edit Skinned Mesh Component)\n利点 # 服で隠れていたりして見えないような部分のメッシュを削除すると、見た目に影響させずに描画負荷やBlendShapeの処理負荷などを減らして軽量化することができます。\n設定 # 数値を調整して箱を追加します。 それぞれの箱について、中心位置、大きさ、角度を変更することが出来ます。(ローカル座標で指定します)\nEdit This Boxをクリックして下図のようなギズモを表示します。箱の大きさ、位置、角度を調整することが出来ます。\n例 # 上側の図にある箱の範囲内のメッシュが、下側の図のように削除されます。\n"},{"id":14,"href":"/avatar-optimizer/beta/ja/docs/reference/clear-endpoint-position/","title":"Clear Endpoint Position","section":"コンポーネントの詳細説明","content":" Clear Endpoint Position # このコンポーネントは、Endpoint Positionの値を0に置換し、_EndPhysBoneGameObjectを追加します。\nこのコンポーネントはPhysBoneコンポーネントがあるGameObjectに追加してください。\n今のところ、このコンポーネントに設定項目はありませんが、ボタンが1つあります。 適用して今すぐcomponentを削除するをクリックすると、 この操作が適用され、コンポーネントが削除されます。 アバターを制作するときに便利かもしれません。\n"},{"id":15,"href":"/avatar-optimizer/beta/ja/docs/reference/merge-bone/","title":"Merge Bone","section":"コンポーネントの詳細説明","content":" Merge Bone # このコンポーネントがGameObjectに付いている場合、そのGameObjectは親GameObjectに統合されて取り除かれます。 また、統合対象にその他のコンポーネントが付属している場合はそれらも削除されます。\nもし親のGameObjectにもMerge Boneコンポーネントが付いていた場合、2つのGameObjectはその更に親のGameObjectに統合されます。\nこのコンポーネントが付いているGameObjectの全ての子GameObjectは、その親GameObjectの子になります。\n設定 # 名前の競合を避ける 統合時に子GameObjectの名前を変更することで、名前の重複によってアニメーションが正しく動かなくなる問題を回避します。 "},{"id":16,"href":"/avatar-optimizer/beta/ja/docs/reference/merge-physbone/","title":"Merge PhysBone","section":"コンポーネントの詳細説明","content":" Merge PhysBone # このコンポーネントは、複数のPhysBoneコンポーネントを1つに統合します。 MultiChildTypeはIgnoreになります。\nこのコンポーネントは新規GameObjectに追加してください。\n設定 # コンポーネント # 統合対象のPhysBoneコンポーネントの一覧です。\n一番下の\u0026quot;None\u0026quot;と書いてある要素にドラッグ\u0026amp;ドロップすることにより対象を追加し、Noneに戻すことにより対象を一覧から取り除きます。\nオーバーライド(上書き) # 上記の設定項目の下は、PhysBoneの設定項目のようになっています。 それぞれの項目について、統合対象の項目から値をコピーする場合はCopy(すべての統合対象で値が同じ場合のみ有効)、 代わりに新しい値を設定する場合はOverrideを選択してください。\nコライダーについては、Mergeを選択して統合対象のコライダー一覧を統合することも出来ます。\nEndpoint Positionについては、Clearを選択してClear Endpoint Positionを使用することもできます。\n"},{"id":17,"href":"/avatar-optimizer/beta/ja/docs/reference/remove-zero-sized-polygon/","title":"Remove Zero Sized Polygon","section":"コンポーネントの詳細説明","content":" Remove Zero Sized Polygon # 面積がゼロのポリゴンを削除します。\nこのコンポーネントは、SkinnedMeshRendererコンポーネントのあるGameObjectに追加してください。\nこのコンポーネントはビルドの最後の方で実行されるため、Modifying Edit Skinned Mesh Component ではありません。\nこのコンポーネントをMerge Skinned Meshの統合対象となるSkinnedMeshRendererに追加しても効果がありません。\n利点 # 面積がゼロのポリゴンを削除することで、描画負荷を減らすことができます。 見た目に影響を与えることはほとんどありません。\n備考 # モデルファイルでのポリゴンの大きさがゼロであっても、シェーダーによって何かを描画していることがあるため、見た目に影響が出ることがあります。\n設定 # 今のところ、このコンポーネントに設定項目はありません。\n備考 # このコンポーネントはTrace and Optimizeコンポーネントによって自動的に追加されます。 このコンポーネントを手動で追加するよりも、Trace and Optimizeを使うことをお勧めします。\n"},{"id":18,"href":"/avatar-optimizer/beta/ja/docs/reference/make-children/","title":"Make Children","section":"コンポーネントの詳細説明","content":" Make Children # ビルド時に、指定されたGameObjectをこのGameObjectの子にします。\nこのコンポーネントは非推奨です。\nこの機能はアバターの最適化と関係がないため、今後製作予定の非破壊アバター改変ユーティリティのコンポーネントに置き換えられる予定です。\n"},{"id":19,"href":"/avatar-optimizer/beta/ja/docs/","title":"Docs","section":"Introduction","content":""},{"id":20,"href":"/avatar-optimizer/beta/ja/docs/developers/make-your-tool-compatible-with-aao/","title":"ツールをAvatar Optimizerとの互換性をもたせる","section":"開発者向け","content":" ツールをAvatar Optimizerとの互換性をもたせる # このページでは以下の２つのことを説明します。\nどのようなときにツールがAvatar Optimizerと非互換になるか どのように互換性を改善するか もし質問があればfediverseで@anatawa12@misskey.niri.laに気軽に聞いてください。\nどのようなときにツールがAvatar Optimizerと非互換になるか # もしあなたのツールがコンポーネントを追加せず、ビルド時に何もしないのであれば、すでにAvatarOptimizerと互換性があります！\nもしあなたのツールがコンポーネントをアバターに追加する場合、そのツールはAvatar Optimizerと非互換である可能性があります\nAvatar Optimizerはコンポーネントに対するガベージコレクションを実装しているため、Avatar Optimizerはアバターに存在する すべてのコンポーネントについて知る必要があります。\n未知なコンポーネントの問題を避けるため、Avatar Optimizerは道のコンポーネントが以下のようなものであると仮定します。(この仮定は将来的に変更される可能性があります。)\n副作用があるコンポーネントである コンポーネントによって参照されてるコンポーネントに依存している しかし、この仮定は正しくない可能性があるので、Avatar Optimizerは未知のコンポーネントを見つけた場合、以下のような警告を生成します。\nもしあなたのツールがNDMF1をベースにしていない非破壊ツールで、Play modeに入るときに適用されるツールの場合、 Avatar Optimizerがそのツールより前に適用される可能性があるため、非互換です。\nどのように互換性を改善するか # NDMFを使用した非破壊ツールの場合 # もしあなたのツールがNDMF1を使用した非破壊ツールの場合、Avatar Optimizerが実行される前にそのツールのコンポーネントを削除してください。\nAvatar OptimizerはOptimization passに処理を実行するため、もしあなたのツールがOptimization passに何もしないのであれば、特に問題がありません。 もしあなたのツールがOptimization passになにか実行する場合、BeforePluginを用いてAvatar Optimizerの前に実行するようにしてください。 Avatar OptimizerのNDMFのQualifiedNameはcom.anatawa12.avatar-optimizerです。\nもしあなたのツールがAvatar Optimizerよりあとにあなたのコンポーネントを用いて実行する必要がある場合、 Avatar Optimizerにコンポーネントを登録してください.\nNDMFを使用していない非破壊ツールの場合 # もしあなたのツールがNDMF1を使用していない非破壊ツールの場合、NDMFを使用するのを検討してください。\nもしあなたのツールがPlayモードに入るときに適用される場合、Avatar Optimizerとの処理順を保証するためにはNDMFを使用する必要があります。 もしあなたのツールがPlayモードに入るときに適用されない場合、NDMFを使用しなくても問題ないことは多いです。\nもしあなたのツールでNDMFを使用したくない場合、Avatar Optimizerが実行される前にそのツールのコンポーネントを削除してください。 これを達成するためにはNDMFのOptimization passの実行より前にあなたのツールを実行するようにしてください。 現在、NDMFはOptimization passをVRCSDKのRemoveAvatarEditorOnlyの直前のorder -1025で実行するので、 あなたのツールのIVRCSDKPreprocessAvatarCallbackをそれより小さいcallbackOrderで登録してください。\nもしあなたのツールがAvatarOptimizerの実行後(NDMFのOptimization passのあと)に処理したい場合、Avatar Optimizerにコンポーネントを登録してください.\nデータを保持するだけのコンポーネントを持つツールの場合 # もしあなたのツールのコンポーネントがビルド時に意味を持たず、情報保持のための場合、 AvatarOptimizerの処理の前にIVRCSDKPreprocessAvatarCallbackでコンポーネントを削除するか、Avatar Optimizerにコンポーネントを登録してください。\nもしIVRCSDKPreprocessAvatarCallbackでコンポーネントを削除する場合、この部分を参照してください。\nもしAvatar Optimizerにコンポーネントを登録する場合、この部分を参照してください。\nコンポーネントを登録する # もしあなたのツールのコンポーネントをAvatar Optimizerの処理後まで保持したり、またはAvatar Optimizerによって削除されたい場合、 Avatar Optimizerにコンポーネントの情報を登録できます。\nAvatar OptimizerのAPIを呼び出すため、まず初めにassembly definition file2を存在しない場合作成してください。\n次に、asmdefファイルのアセンブリ参照にcom.anatawa12.avatar-optimizer.api.editorを追加してください。 もしあなたのツールがAvatar Optimizerに依存したくない場合、Version Definesを使用してください。 Avatar Optimizer 1.6.0より前では公開APIがなく、またAvatar Optimizer v2.0.0でAPIを破壊する可能性があるため、 バージョンの範囲を[1.6,2.0)(やもっと厳しい [1.7,2.0)など)のように指定するのを推奨します。\n次に、あなたのコンポーネントに関するCompoinentInformationを定義してください。\n#if AVATAR_OPTIMIZER \u0026amp;\u0026amp; UNITY_EDITOR [ComponentInformation(typeof(YourComponent))] internal class YourComponentInformation : ComponentInformation\u0026lt;YourComponent\u0026gt; { protected override void CollectMutations(YourComponent component, ComponentMutationsCollector collector) { // call methods on the collector to tell about the component } protected override void CollectDependency(YourComponent component, ComponentDependencyCollector collector) { // call methods on the collector to tell about the component } } #endif CollectDependencyではビルド時、または実行時のあなたのコンポーネントの依存関係を登録してください。 CollectMutationsではあなたのコンポーネントが実行時に変更する可能性があるプロパティを登録してください。 詳しくはxmldocやメソッド名を参照してください。\nもしあなたのコンポーネントがエディタ上のツールのためのデータを保持するだけの場合、どちらも空にします。\nNDMF (Non-Destructive Modular Framework)は非破壊改変ツールのためのbdunderscoreさんによるフレームワークです。 Avatar Optimizerはこのフレームワークを他の非破壊改変ツールとの互換性のために使用しています。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\u0026#160;\u0026#x21a9;\u0026#xfe0e;\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nAssembly-CSharp以外のアセンブリを定義するためのファイル。unity docsを参照してください。.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"},{"id":21,"href":"/avatar-optimizer/beta/ja/docs/tutorial/basic-usage/","title":"基本的な使い方","section":"チュートリアル","content":" 基本的な使い方 # 自動最適化を使用する # アバターには自動的に行える最適化がいくつかあります。\n使用していないBlendShape(シェイプキー)1の削除 BlendShapeの値が0以外のときは処理負荷が発生するため、値をアニメーション等で変更しないBlendShapeは固定すると負荷が軽くなります。 値が常に0である場合でも、固定することでアバターの容量を削減することができます。 使われていないPhysBone等の削除 揺らす対象として存在するメッシュが常に無効になっているPhysBoneなどのように、揺らす必要のないPhysBoneが有効になっている場合は計算負荷が余分に発生してしまいます。 アニメーションしたりPhysBoneで揺らしたりすることのないボーンの統合 服のボーンを素体のボーンに入れ子状にして着せるような場合には、それ自身を動かすことがないボーンが多く発生します。そのようなボーンは余分な負荷を発生させてしまいます。 AvatarOptimizerでは、アバターのルートにTrace And Optimizeコンポーネントを追加するだけで、これらの最適化を自動で行うことができます！\nメッシュを統合してMesh Renderersを減らす # Avatar Optimizerを使用すると簡単にSkinned Meshを統合することができます！ Skinned Meshを統合すると個別にオン・オフできなくなりますが、統合することで軽量化に繋がります！\nなぜSkinned Meshを統合するの？\nSkinned Meshを統合することでメッシュを変形させる処理の回数が減り、負荷が軽くなります。 また、MergeSkinnedMeshでは、同じマテリアルを使用しているマテリアルスロットも統合することができるので、描画負荷も減らす事ができます。\n一番単純なパターンとして、Anonちゃんを軽量化してみます。\nまず初めに、統合先のGameObjectを作りましょう。 アバターのGameObjectを右クリックから Create Empty をクリックして新たなGameObjectを作ります。 そうしたら、わかりやすい名前に変えておいてください。この記事ではAnon_Mergedとします。\n次に、Anon_MergedにMerge Skinned Meshコンポーネントを追加しましょう。\nするとMerge Skinned MeshコンポーネントとSkinned Mesh Rendererコンポーネントが追加されます。 後者が統合先のメッシュ2になります。\n統合したいメッシュをMerge Skinned Meshコンポーネントに楽に指定するために、Anon_Mergedを選択した状態でinspectorをロックしましょう。 こうすることで複数のメッシュをまとめてドラックアンドドロップできるようになります。3\nそれでは、顔のメッシュであるBody以外のメッシュをHierarchyで選択し、Merge Skinned Meshコンポーネント内のSkinned Renderersにドラックアンドドロップで指定しましょう！\nなせ顔のメッシュは統合しないの？\nBlendShape(シェイプキー)は頂点数とBlendShape数の積に比例して重くなる処理です。 そのため、BlendShapeの数が多い顔のメッシュを頂点数の多い体のメッシュと統合するとかえって重くなってしまうため、顔は別のままにするのを推奨しています。\n続いて、Anon_Mergedの設定をしましょう！\nMerge Skinned Meshは諸事情4により、ボーン、メッシュ、マテリアル、BlendShape、Bounds以外の設定を自動的には行いません。 そのため、統合先のメッシュ(Merge Skinned Meshコンポーネントと同時に追加されたSkinned Mesh Rendererコンポーネント)にあるAnchor Override, Root Bone等の項目には別途手動で設定が必要です。 Anchor Overrideには素体(Body等)で設定されているものを、Root BoneにはHipsを指定すると上手くいくことが多いと思います。\nUploadせずにPerformance Rankを見る方法 # このAvatar Optimizerは非破壊改変ツールのため、VRCSDKのControl Panel上のPerformance Rankはあてにならなくなります。\nその代わりにPlayモードに入った際のPerformance Rankをanatawa12\u0026rsquo;s Gist PackのActual Performance Windowを使用してみられます。 詳しくはanatawa12\u0026rsquo;s Gist Packの使い方およびActual Performance Windowのドキュメントを参照してください。\n貫通防止用BlendShapeを利用してポリゴンを減らす # 服で隠れていたりして見えないような部分のメッシュを削除すると、見た目に影響させずに描画負荷やBlendShapeの処理負荷などを減らして軽量化することができます。 これを簡単に実現するために、AvatarOptimizerでは多くの素体に含まれている貫通防止用のBlendShapeを利用してメッシュを削除することができます！\n素体のメッシュにRemove Mesh By BlendShapeコンポーネントを追加しましょう！\n想定外の部位が削除されてしまわないかを確認するためにプレビューのために切り替えたBlendShapeの値を自動的に変更するにチェックし、 削除したい部位の貫通防止用BlendShapeを下の一覧から選択しましょう！\nBlendShapeはUnity上のシェイプキーの名前です。UnityやMayaではBlendShape、BlenderではShape Key、MetasequoiaやMMDではモーフと呼ばれます。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nこの記事ではメッシュはUnityのMesh assetではなくSkinnedMeshRendererの意味で使用しています。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nPhysBoneに複数のコライダーを指定したりするのにも使えます。色んなところで使えるので覚えておくと便利だと思います。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nRoot Bone/Anchor Overrideは等しくないと統合できないため対応予定がありません。もし良いアルゴリズムがあれば教えてください。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"}]