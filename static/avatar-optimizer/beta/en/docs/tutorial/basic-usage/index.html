<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Basic Usage # Use Automatic Optimization # There are several optimizations which can be performed automatically for Avatars.
Removing Unused BlendShapes(Shape Keys)1 For BlendShapes with non-zero weight, freezing BlendShapes will reduce processing cost. Even if the weight is zero, removing BlendShapes will reduce the size of avatars. Removing unused Behaviours such as PhysBones If there are enabled PhysBones which do not need to be swayed (e.g., the swaying target mesh is always disabled), extra computational cost is caused."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Basic Usage"><meta property="og:description" content="Basic Usage # Use Automatic Optimization # There are several optimizations which can be performed automatically for Avatars.
Removing Unused BlendShapes(Shape Keys)1 For BlendShapes with non-zero weight, freezing BlendShapes will reduce processing cost. Even if the weight is zero, removing BlendShapes will reduce the size of avatars. Removing unused Behaviours such as PhysBones If there are enabled PhysBones which do not need to be swayed (e.g., the swaying target mesh is always disabled), extra computational cost is caused."><meta property="og:type" content="article"><meta property="og:url" content="https://vpm.anatawa12.com/avatar-optimizer/beta/en/docs/tutorial/basic-usage/"><meta property="article:section" content="docs"><title>Basic Usage | Avatar Optimizer (1.5.8)</title><link rel=manifest href=/avatar-optimizer/beta/manifest.json><link rel=icon href=/avatar-optimizer/beta/favicon.png type=image/x-icon><link rel=alternate hreflang=en-us href=https://vpm.anatawa12.com/avatar-optimizer/beta/ja/docs/tutorial/basic-usage/ title=基本的な使い方><link rel=stylesheet href=/avatar-optimizer/beta/book.min.64287bb2bc5e63dd96043b64dcc8e66fe7599fb14cdacd5ea8f32e26a37e3045.css integrity="sha256-ZCh7srxeY92WBDtk3Mjmb+dZn7FM2s1eqPMuJqN+MEU=" crossorigin=anonymous><script defer src=/avatar-optimizer/beta/flexsearch.min.js></script>
<script defer src=/avatar-optimizer/beta/en.search.min.966a6401a1eb34a7b344c833e000e7d482a67ac26106161ddb3de5abe2d4c095.js integrity="sha256-lmpkAaHrNKezRMgz4ADn1IKmesJhBhYd2z3lq+LUwJU=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/avatar-optimizer/beta/en/><span>Avatar Optimizer (1.5.8)</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class="flex justify-between"><a role=button class="flex align-center"><img src=/avatar-optimizer/beta/svg/translate.svg class=book-icon alt=Languages>
English</a></label><ul><li><a href=https://vpm.anatawa12.com/avatar-optimizer/beta/ja/docs/tutorial/basic-usage/>日本語</a></li></ul></li></ul><a class=ao-stable-beta href=https://vpm.anatawa12.com/avatar-optimizer/en/docs/tutorial/basic-usage/>Goto Stable Docs</a><ul><li class=book-section-flat><span>Tutorial</span><ul><li><a href=/avatar-optimizer/beta/en/docs/tutorial/basic-usage/ class=active>Basic Usage</a></li></ul></li><li><a href=/avatar-optimizer/beta/en/docs/changelog/>Changelog</a></li><li class=book-section-flat><span>Component Kinds</span><ul><li><a href=/avatar-optimizer/beta/en/docs/component-kind/avatar-global-components/>Avatar Global Components</a></li><li><a href=/avatar-optimizer/beta/en/docs/component-kind/edit-skinned-mesh-components/>Edit Skinned Mesh Components</a></li></ul></li><li class=book-section-flat><span>Component Reference</span><ul><li><a href=/avatar-optimizer/beta/en/docs/reference/trace-and-optimize/>Trace And Optimize</a></li><li><a href=/avatar-optimizer/beta/en/docs/reference/unused-bones-by-references-tool/>UnusedBonesByReferencesTool</a></li><li><a href=/avatar-optimizer/beta/en/docs/reference/merge-skinned-mesh/>Merge Skinned Mesh</a></li><li><a href=/avatar-optimizer/beta/en/docs/reference/freeze-blendshape/>Freeze BlendShape</a></li><li><a href=/avatar-optimizer/beta/en/docs/reference/merge-toonlit-material/>Merge ToonLit Material</a></li><li><a href=/avatar-optimizer/beta/en/docs/reference/remove-mesh-by-blendshape/>Remove Mesh By BlendShape</a></li><li><a href=/avatar-optimizer/beta/en/docs/reference/remove-mesh-in-box/>Remove Mesh in Box</a></li><li><a href=/avatar-optimizer/beta/en/docs/reference/clear-endpoint-position/>Clear Endpoint Position</a></li><li><a href=/avatar-optimizer/beta/en/docs/reference/merge-bone/>Merge Bone</a></li><li><a href=/avatar-optimizer/beta/en/docs/reference/merge-physbone/>Merge PhysBone</a></li><li><a href=/avatar-optimizer/beta/en/docs/reference/make-children/>Make Children</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/avatar-optimizer/beta/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Basic Usage</strong>
<label for=toc-control><img src=/avatar-optimizer/beta/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#trace-and-optimize>Use Automatic Optimization</a></li><li><a href=#merge-skinned-mesh>Merge Meshes to reduce # of Skinned Renderers</a></li><li><a href=#remove-mesh-by-blendshape>Reduce polygons with BlendShapes which shrink parts of the body</a></li></ul></nav></aside></header><article class=markdown><h1 id=basic-usage>Basic Usage
<a class=anchor href=#basic-usage>#</a></h1><h2 id=trace-and-optimize>Use Automatic Optimization
<a class=anchor href=#trace-and-optimize>#</a></h2><p>There are several optimizations which can be performed automatically for Avatars.</p><ul><li>Removing Unused BlendShapes(Shape Keys)<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup><ul><li>For BlendShapes with non-zero weight, freezing BlendShapes will reduce processing cost.</li><li>Even if the weight is zero, removing BlendShapes will reduce the size of avatars.</li></ul></li><li>Removing unused Behaviours such as PhysBones<ul><li>If there are enabled PhysBones which do not need to be swayed (e.g., the swaying target mesh is always disabled), extra computational cost is caused.</li></ul></li><li>Merging bones which is not animated or swayed with PhysBones<ul><li>If the clothes bones are nested into the body bones, there will be many bones which are never moved locally. Such bones cause extra cost.</li></ul></li></ul><p>With AvatarOptimizer, these optimizations can be performed automatically by simply adding a <code>Trace And Optimize</code> to the Avatar Root!</p><p><img src=add-trace-and-optimize.png alt=add-trace-and-optimize.png></p><h2 id=merge-skinned-mesh>Merge Meshes to reduce # of Skinned Renderers
<a class=anchor href=#merge-skinned-mesh>#</a></h2><p>You can easily merge Skinned Mesh with Avatar Optimizer!
Merging Skinned Mesh will not allow you to turn them on and off individually, but merging them will reduce rendering cost!</p><blockquote class="book-hint info"><p><strong>Why will we merge Skinned Mesh?</strong></p><p>Merging Skinned Mesh will reduce number of deforming mesh (skinning).
Also, Merging with MergeSkinnedMesh can reduce material slots so we can reduce number of drawing.</p></blockquote><p>This time, I&rsquo;ll optimize Anon-chan as a simplest case.</p><p><img src=./start.png alt=start.png></p><p>First, create GameObject for merged mesh<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>.
Right-click avatar GameObject and click <code>Create Empty</code> to create new GameObject.
Then, rename to understandable name. In this document, I call it as <code>Anon_Merged</code>.</p><p><img src=./create-empty.png alt=create-empty.png></p><p>Then, Add <code>Merge Skinned Mesh</code> to <code>Anon_Merged</code>.</p><p><img src=./add-merge-skinned-mesh.png alt=add-merge-skinned-mesh.png></p><p>This adds <code>Merge Skinned Mesh</code> and <code>Skinned Mesh Renderer</code> (which will be the merged mesh).</p><p>To make it easy to specifying merge target meshes to <code>Merge Skinned Mesh</code>, lock the inspector with <code>Anon_Merged</code> selected.
This allow us to drag & drop multiple meshes at once.<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup></p><p><img src=./lock-inspector.png alt=lock-inspector.png></p><p>Then, select meshes except for Body, which is the face mesh, and drag & drop to Skinned Renderers of <code>Merge Skinned Mesh</code>!</p><p><img src=./drag-and-drop.png alt=drag-and-drop.png></p><blockquote class="book-hint info"><p><strong>Why don&rsquo;t we merge face meshes?</strong></p><p>BlendShape (Shape Keys) is a feature became heavier in proportion to the count of vertices and BlendShapes.
Therefore, merging face mesh, which has many BlendShapes, and body mesh, which has many vertices, can make your avatar heavier than before
so I recommend not to merge face mesh.</p></blockquote><p>Next, configure <code>Anon_Merged</code>!</p><p>Because of many reasons<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>, <code>Merge Skinned Mesh</code> doesn&rsquo;t configure anything except of bones, meshes, materials, BlendShapes and bounds.
So, please configure Anchor Override, Root Bone and so on yourself on the merged mesh (<code>Skinned Mesh Renderer</code> which is added at the same time as the <code>Merge Skinned Mesh</code>).
I think specifying what is configured in your avatar&rsquo;s body as Anchor Override, and setting <code>Hips</code> as the Root Bone will work well.</p><blockquote class="book-hint info"><h3 id=performance-rank-without-upload>Checking performance rank without uploading avatar
<a class=anchor href=#performance-rank-without-upload>#</a></h3><p>Because Avatar Optimizer is a non-destructive avatar modification tool,
Performance Rank on the VRCSDK Control Panel is no loner be relied upon.</p><p>Instead, you can check Performance Rank in Play Mode with Actual Performance Window of anatawa12&rsquo;s Gist Pack.
Please check <a href=https://vpm.anatawa12.com/gists/ja/docs/basic-usage/>basic usages of anatawa12&rsquo;s Gist Pack</a> and <a href=https://vpm.anatawa12.com/gists/ja/docs/reference/actual-performance-window/>documentation of Actual Performance Window</a> for more details。</p></blockquote><h2 id=remove-mesh-by-blendshape>Reduce polygons with BlendShapes which shrink parts of the body
<a class=anchor href=#remove-mesh-by-blendshape>#</a></h2><p>By removing polygons which are hidden by clothes or something, you can reduce rendering cost, BlendShape processing cost, etc. without affecting the appearance so much.
To make this easier, AvatarOptimizer allows you to remove polygons with BlendShapes for shrinking parts of the body, which many avatars have!</p><p>Let&rsquo;s add <code>Remove Mesh By BlendShape</code> to Body Mesh!</p><p>Enable <code>Automatically set BlendShape weight for preview when toggled</code> to make sure that unintended parts of the body are not removed, and
select BlendShapes from the BlendShapes list below that shrink the parts of the body you want to remove!</p><p><img src=./remove-mesh-by-blendshape.png alt="remove mesh by BlendShape"></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>BlendShape is the name of Shape Keys in Unity. Unity and Maya call them as Blend Shape, Blender calls them as Shape Key, Metasequoia and MMD call them as Morph.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>In this document mesh means SkinnedMeshRenderer, not the Mesh asset in Unity.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>It is useful to keep in mind that it can be used in many other places such as specifying multiple colliders for PhysBone.&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p>Root Bone and Anchor Override are impossible to merge automatically I think. If you know any good algorithm, please tel me that.&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/anatawa12/AvatarOptimizer/edit/master/.docs/content/docs/tutorial/basic-usage/index.md target=_blank rel=noopener><img src=/avatar-optimizer/beta/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#trace-and-optimize>Use Automatic Optimization</a></li><li><a href=#merge-skinned-mesh>Merge Meshes to reduce # of Skinned Renderers</a></li><li><a href=#remove-mesh-by-blendshape>Reduce polygons with BlendShapes which shrink parts of the body</a></li></ul></nav></div></aside></main></body></html>